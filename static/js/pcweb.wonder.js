/*Built by pcw player group @11/22/2019, 2:24:28 PM */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.QiyiPlayerLoader=t()}(this,function(){"use strict";var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function __extends(e,t){function r(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var onlineUrl={"wonder.data.pc":"//static.iqiyi.com/js/player_v2/wonder.data.pc.dc89e38d.js","wonder.http.mobile":"//static.iqiyi.com/js/player_v2/wonder.http.mobile.f0f6c544.js","skin.pc":"//static.iqiyi.com/js/player_v2/skin.pc.dc89e38d.js","skin.mobile":"//static.iqiyi.com/js/player_v2/skin.mobile.f0f6c544.js","p2p.abs":"//static.iqiyi.com/js/player_v2/565b19851417.js",FLASH_PLAYER_URL:"//www.iqiyi.com/player_v2/flashplayer/20191120/6af57dfc1102.swf",FLASH_PLAYER_ZURL:"//www.iqiyi.com/player_v2/flashplayer/20191120/906490701102.swf",FLASH_P2P_URL:"//www.iqiyi.com/common/flashplayer/20180620/14002a1b82aa.swf",FLASH_BARRAGE_URL:"//www.iqiyi.com/common/flashplayer/20180810/0949c72eeb6.swf",FLASH_PRELOADER_URL:"//www.iqiyi.com/common/flashplayer/20190719/23215aa9a57.swf",FLASH_PRELOADER_URL_TW:"//www.iqiyi.com/common/flashplayer/20180529/1508c9cdf8a4.swf",FLASH_PRELOADER_VIP:"//www.iqiyi.com/common/flashplayer/20190719/232184b0df09.swf",FLASH_PRELOADER_VIP_TW:"//www.iqiyi.com/common/flashplayer/20171129/1530df83b9a5.swf",FLASH_PRELOADER_PRODUCE:"//www.iqiyi.com/common/flashplayer/20190719/2321561520f8.swf",FLASH_PRELOADER_PRODUCE_TW:"//www.iqiyi.com/common/flashplayer/20180529/15085e1d0a85.swf",FLASH_PRELOADER_EXCLUSIVE:"//www.iqiyi.com/common/flashplayer/20190719/232121793893.swf",FLASH_PRELOADER_EXCLUSIVE_TW:"//www.iqiyi.com/common/flashplayer/20180529/1508dc809b19.swf",FLASH_PRELOADER_ICON:"//www.iqiyi.com/common/flashplayer/20171129/1530c314a0aa.swf",FLASH_PRELOADER_ICON_TW:"//www.iqiyi.com/common/flashplayer/20171129/15307da15813.swf",FLASH_PRELOADER_ICON_PRODUCE:"//www.iqiyi.com/common/flashplayer/20171129/1530925a82d4.swf",FLASH_PRELOADER_ICON_PRODUCE_TW:"//www.iqiyi.com/common/flashplayer/20171129/1530151837af.swf",FLASH_PRELOADER_ICON_EXCLUSIVE:"//www.iqiyi.com/common/flashplayer/20171129/153013651bd2.swf",FLASH_PRELOADER_ICON_EXCLUSIVE_TW:"//www.iqiyi.com/common/flashplayer/20171129/153077057f2.swf",FLASH_TIP_XML:"//static-s.iqiyi.com/ext/common/Tipdatavod_201809131013.xml","skin.pc.mini":"//static.iqiyi.com/js/player_v2/skin.pc.mini.dc89e38d.js"},grayConfig={id:"",channelIds:[],index:"",eq:"",st:"",ed:"",url:{}};function mixin(r,e,a,i){function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function t(e,t){var r;for(r in e)if(n(e,r)&&t(e[r],r))break}return e&&t(e,function(e,t){!a&&n(r,t)||(i&&"string"!=typeof e&&"boolean"!=typeof e?(r[t]||(r[t]={}),mixin(r[t],e,a,i)):r[t]=e)}),r}var licked={},cookie={get:function(e,t){var r="";if((t=mixin({memory:!1},t,!0)).memory&&licked.hasOwnProperty(e))r=licked[e];else{if(new RegExp('^[^\\x00-\\x20\\x7f\\(\\)<>@,;:\\\\\\"\\[\\]\\?=\\{\\}\\/\\u0080-\\uffff]+$').test(e)){var a,i=new RegExp("(^| )"+e+"=([^;]*)(;|$)").exec(document.cookie);i&&(r=i[2]||"")}"string"==typeof r&&(r=decodeURIComponent(r)),t.memory&&(licked[e]=r)}return r},set:function(e,t,r){r=r||{},t=encodeURIComponent(t);var a=r.expires;"number"==typeof r.expires&&(a=r.expires<=0?new Date(0):new Date).setTime(a.getTime()+r.expires),delete licked[e],document.cookie=e+"="+t+(r.path?"; path="+r.path:"")+(a?"; expires="+a.toUTCString():"")+(r.domain?"; domain="+r.domain:"")},remove:function(e,t){(t=t||{}).expires=-1,this.set(e,"",t)}};function platform(){var e="",l={},c={},t=navigator,r=t.platform,a=t.userAgent.toLowerCase(),i=a.match(/rtrident/),n=!i&&a.match(/(ipad).*os\s([\d_]+)/),o=!i&&!n&&a.match(/(iphone\sos)\s([\d_]+)/),s=a.match(/Android\s+([\d.]+)/i),p="",d="";if(d=navigator.connection&&navigator.connection.effectiveType?navigator.connection.effectiveType:(d=a.match(/NetType\/\w+/)?a.match(/NetType\/\w+/)[0]:"").toLowerCase().replace("nettype/",""),c.userAgent=a,c.IE11=/rv\:11/.test(a),c.IE=/msie/.test(a)||c.IE11,c.IE6=/msie 6/.test(a),c.IE7=/msie 7/.test(a),c.IE8=/msie 8/.test(a),c.IE9=/msie 9/.test(a),c.IE10=/msie 10/.test(a),c.EDGE=/edge/.test(a),c.iPhone=/iphone os/.test(a)&&!i,c.iPhone4=/iphone os [45]_/.test(a)&&!i,c.iPad=/ipad/.test(a)&&!i,c.iPod=/iPod/i.test(a)&&!i,c.isTouch="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,c.CHROMEIOS=/crios/.test(a),c.CHROME=/chrome/.test(a)&&!c.EDGE,c.SAFARI=/safari/.test(a)&&!/chrome/.test(a),c.FIREFOX=/firefox/.test(a),c.mobile=/mobile/gi.test(a),c.mobileSafari=c.iPhone||c.iPhone||c.iPad,c.QQ=/QQBrowser/gi.test(a),c.WECHAT=/(wechat)|(micromessenger)/gi.test(a),c.CHROME){var f=/chrome\/([\d\.]+) /gi.exec(a);c.version=f?parseInt(f[1],10):0}if(c.EDGE){var _=/edge\/([\d\.]+)/gi.exec(a);c.version=_?parseInt(_[1],10):0}var u=/mac/i.test(r),y="X11"==r&&!u,h=/win/i.test(r)&&!y,m=/android/.test(a);l.unix=y,l.win=h,l.mac=u,l.android=m,l.androidMobile=m&&c.mobile,l.androidTablet=m&&(!c.mobile||/pad/i.test(a)),s&&(l.version=s[1]),l.ios=!1,o&&(l.ios=!0,l.version=o[2].replace(/_/g,".")),n&&(l.ios=!0,l.version=n[2].replace(/_/g,".")),c.iPod&&(l.ios=!0),e=c.iPad?"b85da1cf3ae44351":"b6c13e26323c537d";var E=function(e){var t="01";(c.iPhone||l.android)&&(t="02"),(c.iPad||l.androidTablet)&&(t="03");var r="01",a,i,n,o,s;return l.android&&(r="02"),l.mac&&(r="08"),l.ios&&(r=e?"03":"02"),t+r+"003"+"101"+"00"+(e?"10":"00")+"000000"},g=function(e){return p||E(e)},P=function(e){p=e},A=function(e){var t=1,r;switch(g(e).substr(0,4)){case"0108":t=276;break;case"0303":t=10;break;case"0302":t=11;break;case"0203":t=13;break;case"0202":t=12}return t},v=function(){var e="";return c.CHROME?e="CHROME":c.SAFARI?e="SAFARI":c.FIREFOX?e="FIREFOX":c.QQ?e="QQ":c.WECHAT?e="WECHAT":c.IE?e="IE":c.IE6?e="IE6":c.IE7?e="IE7":c.IE8?e="IE8":c.IE9?e="IE9":c.IE10?e="IE10":c.EDGE?e="EDGE":c.mobileSafari?e="mobileSafari":l.ios?e="ios":l.ios?e="ios":l.androidMobile?e="androidMobile":l.androidTablet&&(e="androidTablet"),e},L=a.match(/miuivideo\//i)||l.android&&4<parseInt(l.version)&&a.match(/MiuiBrowser/i),T=c.iPad||c.iPhone||l.android&&4<parseFloat(l.version)||L?"m3u8":"mp4";return/__pmode__=m3u8/.test(window.location.href)?T="m3u8":/__pmode__=mp4/.test(window.location.href)&&(T="mp4"),{browser:c,os:l,code:e,getPtid:g,setPtid:P,getAgentType:A,browserName:v,network:d,playerMode:T}}var platform$1=platform();function seriesLoadScripts(t,r){"object"!=typeof t&&(t=[t]);var a=document.getElementsByTagName("head").item(0)||document.documentElement,i=[],n=t.length-1,o=function(e){i[e]=document.createElement("script"),i[e].setAttribute("type","text/javascript"),i[e].onload=i[e].onreadystatechange=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(this.onload=this.onreadystatechange=null,this.parentNode.removeChild(this),e!=n?o(e+1):"function"==typeof r&&r(!0))},i[e].onerror=i[e].onstalled=function(){"function"==typeof r&&r(!1)},i[e].setAttribute("src",t[e]),a.appendChild(i[e])};o(0)}var data={},changeData={},deleteData={},tMark=0,storage={getItem:function(e){return data[e]},setItem:function(e,t){data[e]=t},removeItem:function(e){delete data[e]}},ls=function(){try{return window.localStorage.setItem("_Q_test_",1),window.localStorage.removeItem("_Q_test_"),window.localStorage}catch(e){}return storage}(),updateStorage=function(){0===tMark&&(clearTimeout(tMark),tMark=setTimeout(function(){for(var e in tMark=0,changeData)ls.setItem(e,changeData[e]),delete changeData[e];for(var t in deleteData)ls.removeItem(t),delete deleteData[e]},1e3))},storage$1={PLAYER_VD_KEY:"QiyiPlayerVD",read:function(e){return data[e]||(data[e]=ls.getItem(e)),data[e]},write:function(e,t){data[e]=t,changeData[e]=t,updateStorage()},remove:function(e){delete data[e],deleteData[e]=0,updateStorage()}},loggerMessageChanged=!1,LOGGER_MESSAGE="",LOGGER_KEY="QiyiPlayerLogger",LOGGER_LEVEL_KEY="QiyiPlayerLoggerLevel",COLOR_BG_NORMAL="#FFA500",COLOR_BG_WARN="#ff6cb7",COLOR_BG_ERROR="#F30",COLOR_BG_DEBUG="#FFA500",Levels={OFF:{value:0,name:"OFF"},ERROR:{value:1,name:"ERROR"},WARN:{value:2,name:"WARN"},INFO:{value:3,name:"INFO"},DEBUG:{value:4,name:"DEBUG"}},filterLevelInStore=parseInt(storage$1.read(LOGGER_LEVEL_KEY),10),slice=Array.prototype.slice,prelogInfo="",repeatNum=0,prelog="",pad=function(e,t){var r="",a=e<0,i=String(Math.abs(e));return i.length<t&&(r=new Array(t-i.length+1).join("0")),(a?"-":"")+r+i},timeLabel=function(){var e=new Date;return e.getFullYear()+"-"+pad(e.getMonth()+1,2)+"-"+pad(e.getDate(),2)+" "+pad(e.getHours(),2)+":"+pad(e.getMinutes(),2)+":"+pad(e.getSeconds(),2)+(e.getMilliseconds?"."+pad(e.getMilliseconds(),3):"")},checkrepeat=function(e){var t=e.join("");prelog!==t?(prelog=t,repeatNum=0):(1<++repeatNum&&(LOGGER_MESSAGE=(LOGGER_MESSAGE=LOGGER_MESSAGE.replace(prelogInfo,"")).substring(0,LOGGER_MESSAGE.length-2)),e.push(">>repeat("+repeatNum+")<<"))},logHandler=function(e,t){var r,a=COLOR_BG_NORMAL;if(e=slice.call(e),checkrepeat(e),e.unshift("%c"),e.unshift("["+t.name+"]"),e.unshift("%c["+timeLabel()+" IQIYI_PLAYER_"+t.level.name+"]"),t.level!==Levels.DEBUG){prelogInfo=e.join("").replace(/(%c|IQIYI_PLAYER_)/gi,"");var i=LOGGER_MESSAGE||"";LOGGER_MESSAGE=(""!==i?i+"\n":"")+prelogInfo,loggerMessageChanged=!0}if("undefined"!=typeof console)try{r=console.log,t.level===Levels.WARN&&console.warn?(r=console.warn,a=COLOR_BG_WARN):t.level===Levels.ERROR&&console.error?(r=console.error,a=COLOR_BG_ERROR):t.level===Levels.INFO&&console.info?r=console.info:t.level===Levels.DEBUG&&console.debug&&(r=console.debug,a=COLOR_BG_DEBUG),t.print&&r.apply(console,[e.join(" ")+" ","background-color:#699f00;color:#fff;","background-color:"+a+";color:#fff;"])}catch(n){}},PlayerLogger=function(){function r(e){this.context={name:e||"Unknown"}}return r.stringify=function(e){var t="";try{t=JSON.stringify(e)}catch(r){}return t},r.setLevel=function(e){e&&"value"in e&&(r._filterLevel=e,storage$1.write(LOGGER_LEVEL_KEY,e.value))},r.getLevel=function(){if(!r._filterLevel){var e=Levels.WARN;for(var t in Levels)Levels[t].value===filterLevelInStore&&(e=Levels[t]);r._filterLevel=e}return r._filterLevel},r.getLog=function(){return LOGGER_MESSAGE},r.saveImmediately=function(){writeLogInstantly()},r.prototype.enabledFor=function(e){return e.value<=r.getLevel().value},r.prototype.invoke=function(e,t){logHandler(t,mixin({level:e,print:this.enabledFor(e)},this.context))},r.prototype.debug=function(){this.invoke(Levels.DEBUG,arguments)},r.prototype.log=function(){this.invoke(Levels.INFO,arguments)},r.prototype.info=function(){this.invoke(Levels.INFO,arguments)},r.prototype.warn=function(){this.invoke(Levels.WARN,arguments)},r.prototype.error=function(){this.invoke(Levels.ERROR,arguments)},r}();PlayerLogger.Levels=Levels;var period=3e4,M=1048576,limitSize=.5*M;function truncateLog(e,t){var r="\n",a,i=LOGGER_MESSAGE.split(r).slice(0,6).join(r)+r+"~~~~~truncated log~~~~~"+r;LOGGER_MESSAGE=i+LOGGER_MESSAGE.slice(i.length<e?e:i.length,t)}function writeLogInstantly(){var e=LOGGER_MESSAGE.length;limitSize<e&&truncateLog(e-limitSize,e),storage$1.write(LOGGER_KEY,LOGGER_MESSAGE)}function cronLogIntoStore(){loggerMessageChanged&&(loggerMessageChanged=!1,writeLogInstantly()),setTimeout(cronLogIntoStore,period)}setTimeout(cronLogIntoStore,period);var _parse=function(e){var t="",r="",a="",i="",n=/(\w+):\/\/([^\/:]+):?(\d*)((?:\/|$)[^?#]*)/,o=e.match(n);return o&&(t=o[1],r=o[2],a=o[3],i=o[4]),{protocol:t,host:r,port:a,path:i}},_queryToJson=function(e){for(var t,r=e.substr(e.lastIndexOf("?")+1).split("&"),a=r.length,i={},n=0,o,s,l,c;n<a;n++)r[n]&&(o=(c=r[n].split("=")).shift(),s=c.join("="),void 0===(l=i[o])&&(i[o]=s));return i},_getQueryValue=function(e,t){1===arguments.length&&(t=e,e=window.location.href);var r=String(t).replace(new RegExp("([.*+?^=!:${}()|[\\]/\\\\])","g"),"\\$1"),a=new RegExp("(^|&|\\?|#)"+r+"=([^&#]*)(&|$|#)",""),i=e.match(a);return i?i[2]:""},_filename=function(e){var t=_parse(e),r;return(t&&t.path||"").replace(/^.*[\\\/]/,"").split(".")[0]},urlkit={parse:_parse,query:_getQueryValue,query2Json:_queryToJson,filename:_filename},CON_TYPE={PlayerType_Html5VOD:"h5_VOD",PlayerType_FlashVOD:"flash_VOD",PlayerType_Null:"null",QYPLAYER_STATUS_LOAD_MOVIE:"loadmovie",QYPLAYER_STATUS_DATA_READY:"dataready",QYPLAYER_STATUS_AD_START_PLAY:"adstartplay",QYPLAYER_STATUS_AD_PLAYING:"adplaying",QYPLAYER_STATUS_AD_PAUSED:"adpaused",QYPLAYER_STATUS_AD_RESUMED:"adresumed",QYPLAYER_STATUS_READY:"ready",QYPLAYER_STATUS_START_PLAY:"startplay",QYPLAYER_STATUS_SEEKING:"seeking",QYPLAYER_STATUS_WAITING:"waiting",QYPLAYER_STATUS_PAUSED:"paused",QYPLAYER_STATUS_PLAYING:"playing",QYPLAYER_STATUS_STOPED:"stoped",QYPLAYER_STATUS_ERROR:"error",QYPLAYER_STATUS_END_PLAY:"endplay",QYPLAYER_LOAD_COMPLETE:"loadcomplete",QYPLAYER_LOAD_SUCCESS:"playerLoadSuccess",QYPLAYER_STATE_CHANGE:"playerStateChange",QYPLAYER_VIDEO_CHANGE:"videoChanged",QYPLAYER_VID_CHANGE:"vidChanged",QYPLAYER_NEXT_VIDEO:"playnextvideo",QYPLAYER_SET_LIGHT:"setLight",QYPLAYER_MOVETO_QITAN:"moveToQitan",QYPLAYER_SHOW_LOGIN_PANEL:"showLoginPanel",QYPLAYER_EXPAND:"expand",QYPLAYER_AUTHENTICATION_RESULE:"authenticationResult",QYPLAYER_RECHARGE:"recharge",QYPLAYER_SUBSCRIBE:"subscribe",QYPLAYER_REFRESH_PAGE:"refreshPage",QYPLAYER_DOWNLOAD:"download",QYPLAYER_REQUEST_VIDEOLIST:"requestVideoList",QYPLAYER_REQUEST_VIDEOLIST_BY_PAGE:"requestVideoListByPage",QYPLAYER_REQUEST_CHANGE_VIDEO:"requestChangeVideo",QYPLAYER_SWITCH_FULL_SCREEN:"switchFullScreen",QYPLAYER_ADD_TO_TABLE:"addToTable",QYPLAYER_FOCUS_TIPS:"focusTips",QYPLAYER_FOCUS_UPLOADER:"focusUploader",QYPLAYER_FIND_GOODS:"findGoods",QYPLAYER_PGC_FOLLOW:"pgcFollow",QYPLAYER_SHOW_DOWNLOAD_APPPOP:"showDownLoadAppPop",QYPLAYER_CHECK_CLIENT_INSTALL:"checkClientInstall",QYPLAYER_REQUEST_SEND_PINGBACK:"requestJSSendPB",QYPLAYER_DOSOMETHING:"setJsDoSomething",QYPLAYER_FOLLOW_UPNEXT_LOAD:"followUpNextLoad",QYPLAYER_USER_CLICK_SCORE:"userClickScore",QYPLAYER_BARRAGE_REPLAY:"barrageReply",QYPLAYER_BARRAGE_RECEIVE_DATA:"barrageReceiveData",QYPLAYER_SET_BARRAGE_INTERACT_INFO:"setBarrageInteractInfo",QYPLAYER_NOTIFY_BARRAGE_DATA:"notifyBarrageData",QYPLAYER_SET_BARRAGE_CONFIG_INFO:"setHasBarrageConfigInfo",QYPLAYER_SET_BARRAGE_CHANNEL_CONFIG_INFO:"setHasBarrageChannelConfigInfo",QYPLAYER_BARRAGE_STATE_CHANGE:"barrageStateChange",QYPLAYER_BARRAGE_ALLOWED:"barrageAllowed",QYPLAYER_REQUEST_REWARD:"requestReward",QYPLAYER_COMMENT_ALLOWED:"commentAllowed",QYPLAYER_GET_PLAYER_LOG:"getQiyiPlayerLog",QYPLAYER_WEBFULLSCREEN_BEFORE_CHANGE:"beforeWebFullScreenChange",QYPLAYER_WEBFULLSCREEN_AFTER_CHANGE:"afterWebFullScreenChange",QYPLAYER_FULLSCREEN_BEFORE_CHANGE:"beforeFullScreenChange",QYPLAYER_FULLSCREEN_AFTER_CHANGE:"afterFullScreenChange",QYPLAYER_NOTIFY_GIFT_INFO:"notifyGiftInfo",QYPLAYER_NOTIFY_WRITE_FLASH_LOG:"writeFlashLog",QYPLAYER_SWITCH_PLAYER:"switchPlayer",QYPLAYER_NOTIFY_AD_START:"ADStart",QYPLAYER_NOTIFY_AD_END:"ADEnd",QYPLAYER_NOTIFY_AD_NOTIFY_INFO:"adnotifyinfo",QYPLAYER_NOTIFY_TIMEUPDATE:"timeUpdate",QYPLAYER_NOTIFY_SCORECHANGE:"scoreTaskChange",QYPLAYER_NOTIFY_FEEDBACK_SHOW:"feedbackShow",QYPLAYER_NOTIFY_FEEDBACK_HIDE:"feedbackHide",QYPLAYER_NOTIFY_USER_SEEK:"userSeek",QYPLAYER_H5_VIDEO_LOADSTART:"h5videoloadstart",QYPLAYER_H5_VIDEO_LOADEDMETADATA:"h5videoloadedmetadata",QYPLAYER_H5_DURATION_CHANGED:"h5durationchanged",QYPLAYER_H5_VOLUME_CHANGED:"h5volumechanged"};function isSupported(){var e=!!window.Promise&&!!window.Uint8Array&&!!Array.prototype.forEach,t=window.MediaSource||window.WebKitMediaSource,r=window.URL,a=!1;if(t&&"function"==typeof t.isTypeSupported){var i=t.isTypeSupported('video/mp4;codecs="avc1.42E01E"'),n;a=t.isTypeSupported('audio/mp4;codecs="mp4a.40.2"')&&i}return e&&!!r&&(!!a||platform$1.browser.EDGE)}var mseFlag=isSupported(),_userAgent=navigator.userAgent,chromeVersion=/chrome\/([\d\.]+) /gi.exec(_userAgent.toLowerCase());chromeVersion=chromeVersion?parseInt(chromeVersion[1],10):0;var firxfoxVersion=/firefox\/([\d\.]+)/gi.exec(_userAgent.toLowerCase());firxfoxVersion=firxfoxVersion?parseInt(firxfoxVersion[1],10):0;var safariVersion=/Version\/([\d\.]+)/gi.exec(_userAgent.toLowerCase());function isSupportQVS(){var e=platform$1.browser.WECHAT,t=platform$1.browser.CHROME&&34<=chromeVersion&&!platform$1.browser.EDGE,r=platform$1.browser.SAFARI&&10<=safariVersion,a=platform$1.browser.FIREFOX&&42<=firxfoxVersion,i=platform$1.browser.EDGE,n;return mseFlag&&(e||t||r||a||i)}function isSupportHtml5(e){var t;return(isSupportQVS()||platform$1.os.ios||platform$1.os.android)&&!e}function getForcedType(){var e;return cookie.get("player_forcedType")||null}function getDefaultType(){var e=CON_TYPE.PlayerType_Html5VOD,t;return"flash"==urlkit.query("__playertype__")&&(e=CON_TYPE.PlayerType_FlashVOD),"1"===cookie.get("QP004")&&(e=CON_TYPE.PlayerType_FlashVOD),e}function getPlayerType(e,t){var r;return isSupportHtml5(t)?getForcedType()||e||getDefaultType():CON_TYPE.PlayerType_FlashVOD}safariVersion=safariVersion?parseFloat(safariVersion[1]):0;var PackLoader=function(){function e(e){if(this.logger=new PlayerLogger("PackLoader"),this.configUrl=onlineUrl,this.p2pcb=[],this.matchGray(e)){var t=grayConfig.url;for(var r in t)this.configUrl[r]=t[r]}isSupportHtml5()&&this.loadPackage()}return e.prototype.matchGray=function(e){return!1},e.prototype.loadPackage=function(){var e="data",t="pc";(platform$1.os.ios||platform$1.os.android)&&(e="http",t="mobile");var r=this.configUrl["wonder."+e+"."+t];setTimeout(function(){seriesLoadScripts(r)},0)},e.prototype.loadP2P=function(e){var a=this;"boolean"==typeof this.p2pcb.loaded?e():("function"==typeof e&&this.p2pcb.push(e),this.p2pcb.loading||(this.p2pcb.loading=!0,seriesLoadScripts(this.configUrl["p2p.abs"],function(e){for(a.p2pcb.loading=!1,a.p2pcb.loaded=e;0<a.p2pcb.length;)try{var t;a.p2pcb.shift()()}catch(r){}})))},e.prototype.loadSkin=function(e){var t="pc";(platform$1.os.ios||platform$1.os.android)&&(t="mobile");var r="";e&&e.isMini&&"pc"===t&&(r=".mini"),seriesLoadScripts(this.configUrl["skin."+t+r])},e}(),objectCreate=Object.create||objectCreatePolyfill,objectKeys=Object.keys||objectKeysPolyfill,bind=Function.prototype.bind||functionBindPolyfill,defaultMaxListeners=20,Dispatcher=function(){function e(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=objectCreate(null),this._eventsCount=0),this._maxListeners=this._maxListeners||undefined}return e.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):listenerCount.call(e,t)},e.prototype.emit=function(e){var t,r,a,i,n,o,s="error"===e;if(o=this._events)s=s&&null==o.error;else if(!s)return!1;if(s){if(1<arguments.length&&(t=arguments[1]),t instanceof Error)throw t;var l=new Error('Unhandled "error" event. ('+t+")");throw l.context=t,l}if(!(r=o[e]))return!1;var c="function"==typeof r;switch(a=arguments.length){case 1:emitNone(r,c,this);break;case 2:emitOne(r,c,this,arguments[1]);break;case 3:emitTwo(r,c,this,arguments[1],arguments[2]);break;case 4:emitThree(r,c,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(a-1),n=1;n<a;n++)i[n-1]=arguments[n];emitMany(r,c,this,i)}return!0},e.prototype.on=function(e,t){return _addListener(this,e,t,!1)},e.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,_onceWrap(this,e,t)),this},e.prototype.off=function(e,t){return _removeListener.call(this,e,t)},e.prototype.un=function(e,t){this.off(e,t)},e.prototype.removeAllListeners=function(e){var t,r,a;if(!(r=this._events))return this;if(!r.off)return 0===arguments.length?(this._events=objectCreate(null),this._eventsCount=0):r[e]&&(0==--this._eventsCount?this._events=objectCreate(null):delete r[e]),this;if(0===arguments.length){var i=objectKeys(r),n;for(a=0;a<i.length;++a)"off"!==(n=i[a])&&this.removeAllListeners(n);return this.removeAllListeners("off"),this._events=objectCreate(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.off(e,t);else if(t)for(a=t.length-1;0<=a;a--)this.off(e,t[a]);return this},e.prototype.listeners=function(e){return _listeners(this,e,!0)},e.prototype.rawListeners=function(e){return _listeners(this,e,!1)},e.prototype.listenerCount=function(){return e.listenerCount.apply(this,arguments)},e}(),hasDefineProperty;try{var o={};Object.defineProperty&&Object.defineProperty(o,"x",{value:0}),hasDefineProperty=0===o.x}catch(err){hasDefineProperty=!1}function $getMaxListeners(e){return e._maxListeners===undefined?Dispatcher.defaultMaxListeners:e._maxListeners}function emitNone(e,t,r){if(t)e.call(r);else for(var a=e.length,i=arrayClone(e,a),n=0;n<a;++n)try{i[n].call(r)}catch(o){}}function emitOne(e,t,r,a){if(t)e.call(r,a);else for(var i=e.length,n=arrayClone(e,i),o=0;o<i;++o)try{n[o].call(r,a)}catch(s){}}function emitTwo(e,t,r,a,i){if(t)e.call(r,a,i);else for(var n=e.length,o=arrayClone(e,n),s=0;s<n;++s)try{o[s].call(r,a,i)}catch(l){}}function emitThree(e,t,r,a,i,n){if(t)e.call(r,a,i,n);else for(var o=e.length,s=arrayClone(e,o),l=0;l<o;++l)try{s[l].call(r,a,i,n)}catch(c){}}function emitMany(e,t,r,a){if(t)e.apply(r,a);else for(var i=e.length,n=arrayClone(e,i),o=0;o<i;++o)try{n[o].apply(r,a)}catch(s){}}function _addListener(e,t,r){var a,i,n;if("function"!=typeof r)throw new TypeError('"listener" argument must be a function');if((i=e._events)?(i.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),n=i[t]):(i=e._events=objectCreate(null),e._eventsCount=0),n){if("function"==typeof n?n=i[t]=[n,r]:n.push(r),!n.warned&&(a=$getMaxListeners(e))&&0<a&&n.length>a){n.warned=!0;var o=new Error("Possible Dispatcher memory leak detected. "+n.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');o.name="MaxListenersExceededWarning",o.emitter=e,o.type=t,o.count=n.length,"object"==typeof console&&console.warn}}else n=i[t]=r,++e._eventsCount;return e}function _removeListener(e,t){var r,a,i,n,o;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(a=this._events))return this;if(!(r=a[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=objectCreate(null):(delete a[e],a.off&&this.emit("off",e,r.listener||t));else if("function"!=typeof r){for(i=-1,n=r.length-1;0<=n;n--)if(r[n]===t||r[n].listener===t){o=r[n].listener,i=n;break}if(i<0)return this;0===i?r.shift():spliceOne(r,i),1===r.length&&(a[e]=r[0]),a.off&&this.emit("off",e,o||t)}return this}function onceWrapper(){if(!this.fired)switch(this.target.off(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function _onceWrap(e,t,r){var a={fired:!1,wrapFn:undefined,target:e,type:t,listener:r},i=bind.call(onceWrapper,a);return i.listener=r,a.wrapFn=i}function _listeners(e,t,r){var a=e._events;if(!a)return[];var i=a[t];return i?"function"==typeof i?r?[i.listener||i]:[i]:r?unwrapListeners(i):arrayClone(i,i.length):[]}function listenerCount(e){var t=this._events;if(t){var r=t[e];if("function"==typeof r)return 1;if(r)return r.length}return 0}function spliceOne(e,t){for(var r=t,a=r+1,i=e.length;a<i;r+=1,a+=1)e[r]=e[a];e.pop()}function arrayClone(e,t){for(var r=new Array(t),a=0;a<t;++a)r[a]=e[a];return r}function unwrapListeners(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function objectCreatePolyfill(e){var t=function(){};return t.prototype=e,new t}function objectKeysPolyfill(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t);return t}function functionBindPolyfill(e){var t=this;return function(){return t.apply(e,arguments)}}hasDefineProperty?Object.defineProperty(Dispatcher,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(e){if("number"!=typeof e||e<0||e!=e)throw new TypeError('"defaultMaxListeners" must be a positive number');defaultMaxListeners=e}}):Dispatcher.defaultMaxListeners=defaultMaxListeners;var chrsz=8;function core_md5(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var r=1732584193,a=-271733879,i=-1732584194,n=271733878,o=0;o<e.length;o+=16){var s=r,l=a,c=i,p=n;a=md5_ii(a=md5_ii(a=md5_ii(a=md5_ii(a=md5_hh(a=md5_hh(a=md5_hh(a=md5_hh(a=md5_gg(a=md5_gg(a=md5_gg(a=md5_gg(a=md5_ff(a=md5_ff(a=md5_ff(a=md5_ff(a,i=md5_ff(i,n=md5_ff(n,r=md5_ff(r,a,i,n,e[o+0],7,-680876936),a,i,e[o+1],12,-389564586),r,a,e[o+2],17,606105819),n,r,e[o+3],22,-1044525330),i=md5_ff(i,n=md5_ff(n,r=md5_ff(r,a,i,n,e[o+4],7,-176418897),a,i,e[o+5],12,1200080426),r,a,e[o+6],17,-1473231341),n,r,e[o+7],22,-45705983),i=md5_ff(i,n=md5_ff(n,r=md5_ff(r,a,i,n,e[o+8],7,1770035416),a,i,e[o+9],12,-1958414417),r,a,e[o+10],17,-42063),n,r,e[o+11],22,-1990404162),i=md5_ff(i,n=md5_ff(n,r=md5_ff(r,a,i,n,e[o+12],7,1804603682),a,i,e[o+13],12,-40341101),r,a,e[o+14],17,-1502002290),n,r,e[o+15],22,1236535329),i=md5_gg(i,n=md5_gg(n,r=md5_gg(r,a,i,n,e[o+1],5,-165796510),a,i,e[o+6],9,-1069501632),r,a,e[o+11],14,643717713),n,r,e[o+0],20,-373897302),i=md5_gg(i,n=md5_gg(n,r=md5_gg(r,a,i,n,e[o+5],5,-701558691),a,i,e[o+10],9,38016083),r,a,e[o+15],14,-660478335),n,r,e[o+4],20,-405537848),i=md5_gg(i,n=md5_gg(n,r=md5_gg(r,a,i,n,e[o+9],5,568446438),a,i,e[o+14],9,-1019803690),r,a,e[o+3],14,-187363961),n,r,e[o+8],20,1163531501),i=md5_gg(i,n=md5_gg(n,r=md5_gg(r,a,i,n,e[o+13],5,-1444681467),a,i,e[o+2],9,-51403784),r,a,e[o+7],14,1735328473),n,r,e[o+12],20,-1926607734),i=md5_hh(i,n=md5_hh(n,r=md5_hh(r,a,i,n,e[o+5],4,-378558),a,i,e[o+8],11,-2022574463),r,a,e[o+11],16,1839030562),n,r,e[o+14],23,-35309556),i=md5_hh(i,n=md5_hh(n,r=md5_hh(r,a,i,n,e[o+1],4,-1530992060),a,i,e[o+4],11,1272893353),r,a,e[o+7],16,-155497632),n,r,e[o+10],23,-1094730640),i=md5_hh(i,n=md5_hh(n,r=md5_hh(r,a,i,n,e[o+13],4,681279174),a,i,e[o+0],11,-358537222),r,a,e[o+3],16,-722521979),n,r,e[o+6],23,76029189),i=md5_hh(i,n=md5_hh(n,r=md5_hh(r,a,i,n,e[o+9],4,-640364487),a,i,e[o+12],11,-421815835),r,a,e[o+15],16,530742520),n,r,e[o+2],23,-995338651),i=md5_ii(i,n=md5_ii(n,r=md5_ii(r,a,i,n,e[o+0],6,-198630844),a,i,e[o+7],10,1126891415),r,a,e[o+14],15,-1416354905),n,r,e[o+5],21,-57434055),i=md5_ii(i,n=md5_ii(n,r=md5_ii(r,a,i,n,e[o+12],6,1700485571),a,i,e[o+3],10,-1894986606),r,a,e[o+10],15,-1051523),n,r,e[o+1],21,-2054922799),i=md5_ii(i,n=md5_ii(n,r=md5_ii(r,a,i,n,e[o+8],6,1873313359),a,i,e[o+15],10,-30611744),r,a,e[o+6],15,-1560198380),n,r,e[o+13],21,1309151649),i=md5_ii(i,n=md5_ii(n,r=md5_ii(r,a,i,n,e[o+4],6,-145523070),a,i,e[o+11],10,-1120210379),r,a,e[o+2],15,718787259),n,r,e[o+9],21,-343485551),r=safe_add(r,s),a=safe_add(a,l),i=safe_add(i,c),n=safe_add(n,p)}return Array(r,a,i,n)}function md5_cmn(e,t,r,a,i,n){return safe_add(bit_rol(safe_add(safe_add(t,e),safe_add(a,n)),i),r)}function md5_ff(e,t,r,a,i,n,o){return md5_cmn(t&r|~t&a,e,t,i,n,o)}function md5_gg(e,t,r,a,i,n,o){return md5_cmn(t&a|r&~a,e,t,i,n,o)}function md5_hh(e,t,r,a,i,n,o){return md5_cmn(t^r^a,e,t,i,n,o)}function md5_ii(e,t,r,a,i,n,o){return md5_cmn(r^(t|~a),e,t,i,n,o)}function safe_add(e,t){var r=(65535&e)+(65535&t),a;return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function bit_rol(e,t){return e<<t|e>>>32-t}function str2binl(e){for(var t=Array(),r=(1<<chrsz)-1,a=0;a<e.length*chrsz;a+=chrsz)t[a>>5]|=(e.charCodeAt(a/chrsz)&r)<<a%32;return t}function binl2hex(e){for(var t="0123456789abcdef",r="",a=0;a<4*e.length;a++)r+=t.charAt(e[a>>2]>>a%4*8+4&15)+t.charAt(e[a>>2]>>a%4*8&15);return r}function MD5(e){return binl2hex(core_md5(str2binl(e),e.length*chrsz))}var isBool=function(e){return"boolean"==typeof e},isNum=function(e){return"number"==typeof e&&!isNaN(e)},isObject=function(e){return"[object object]"===Object.prototype.toString.call(e).toLowerCase()},isArray=function(e){var t;return t=Array.isArray?Array.isArray(e):"[object array]"===Object.prototype.toString.call(e).toLowerCase()},formatMilliseconds=function(e){if(isNaN(e))return"00:00:00";var t=3600<=(e=Math.round(e))?Math.floor(e/3600):0,r=60<=e%3600?Math.floor(e%3600/60):0;return r=10<=r?r:"0"+r,e=10<=(e=0<=parseInt(r,10)?e%3600%60:e)?e:"0"+e,0<t?(9<t?t:"0"+t)+":"+r+":"+e:r+":"+e},protocolRevise=function(e){void 0===e&&(e="");var t="";return t=(t=(t=e.replace("http://","//")).replace("https://","//")).replace(".qiyipic",".iqiyipic")},util={isBool:isBool,isNumber:isNum,isArray:isArray,isObject:isObject,formatMilliseconds:formatMilliseconds,protocolRevise:protocolRevise},doc=document,noop=function(){},cacheMappingURL={},accepts={"*":"*/".concat("*"),text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},converters={"*":null,text:null,html:null,xml:null,json:function(e){var t={},r=window.JSON?JSON.parse:function(){return{}};try{t=r(e)}catch(a){}return t}},defaultOptions={method:"get",dataType:"*",timeout:1e4,charset:"utf-8",cache:!0,withCredentials:!0,jsonpCallback:"callback",complete:noop,success:noop,failure:noop},_paramFormat=function(e){var t=[];if("object"==typeof e)for(var r in e)t[t.length]=encodeURIComponent(r)+"="+encodeURIComponent(e[r]);return t.join("&").replace(/%20/g,"+")},ajax=function(p){mixin(p=p||{},defaultOptions);var d=p.url,f=p.dataType,_=p.params||{},u=p.success,y=p.failure,e;d&&function(){var a={},e=p.headers,t=p.data||null,r=_paramFormat(_);a.params=_,a.url=d+(0<r.length?(/\?/i.test(d)?"&":"?")+r:""),"function"==typeof p.beforeSend&&(a=p.beforeSend(a));var i=new XMLHttpRequest;if(i.withCredentials=p.withCredentials,i.onreadystatechange=l,i.ontimeout=c,i.open(p.method,a.url),i.timeout=p.timeout,i.setRequestHeader("Accept",accepts[f]),util.isObject(e))for(var n in e)i.setRequestHeader(n,e[n]);i.send(t);var o="",s=!1;function l(){var e;if(o+=", readyState = "+i.readyState,4==i.readyState)if(e=converters[f]?converters[f](i.responseText):i.responseText,o+=", status = "+i.status+", statusText = "+i.statusText,200==i.status){if("json"===f&&"string"==typeof e)try{e=JSON.parse(e)}catch(r){}u(e)}else if(!s){s=!0;var t="";try{t=JSON.stringify(e)}catch(r){t=" json error"}o+=", data = "+t+"url = "+a.url,y("xhr error, time = "+p.timeout+o)}}function c(e){if(!s){s=!0;var t="xhr timeout, time = "+p.timeout+", readyState = "+i.readyState+", status = "+i.status+", data = "+JSON.stringify(e)+"url = "+a.url;y(t)}}}()},xhrJSON=function(e){mixin(e=e||{},defaultOptions),e.dataType="json",ajax(e)},jsonp=function(e){mixin(e=e||{},defaultOptions);var t=e.url,r=e.params||{},a=_paramFormat(r),i=t+(0<a.length?(/\?/i.test(t)?"&":"?")+a:""),n=e.complete,o=e.success,s=e.failure,l="Q"+MD5(e.fixedCallback||i),c=!!e.memory,p=MD5(i),d=cacheMappingURL[p];if(i){if(!(c&&d&&o)){var f=function(e,t,r){switch(_(),e){case"success":c&&(cacheMappingURL[p]=r),o(r);break;case"fail":s(r,t)}n(r)},_=function(){if(window[l]){window[l]=undefined;try{delete window[l]}catch(e){}}},u;window[l]=function(e){_(),setTimeout(function(){f("success","200",e)},0)};var y={},h=doc.createElement("script");h.async=!0,h.type="text/javascript",h.charset=e.charset;var m=function(){if(h)try{h.onload(null,!0)}catch(e){}};h.abort=m,h.onload=h.onreadystatechange=function(e,t){(t||!h.readyState||/loaded|complete/.test(h.readyState))&&(h.onload=h.onreadystatechange=null,h.parentNode&&h.parentNode.removeChild(h),h=null,clearTimeout(u))},h.onerror=function(e){f("fail",null),m()},u=setTimeout(function(){f("fail",408),m()},e.timeout);var E={};return E[e.jsonpCallback]=l,mixin(r,E,!0),y.url=i+(/\?/i.test(i)?"&":"?")+_paramFormat(E),y.params=r,"function"==typeof e.beforeSend&&(y=e.beforeSend(y)||y),h.src=y.url,doc.getElementsByTagName("head")[0].appendChild(h),h}o(d)}},beacon=function(e,t,r){if("string"==typeof t){var a=r===undefined||r;if(e){var i=[];for(var n in a&&(e._=+new Date),e)i.push(n+"="+encodeURIComponent(e[n]));var o=t+"?"+i.join("&"),s=new Image;s.onload=s.onerror=s.onabort=function(){s.onload=s.onerror=s.onabort=null,s=null},s.src=o}}},http={serializeParam:_paramFormat,ajax:ajax,json:xhrJSON,jsonp:jsonp,beacon:beacon},domain="http://msg.qy.net";"https:"==window.location.protocol&&(domain="https://msg.qy.net");var Component=function(){function e(e,t){this.url=e||domain+"/b",this.options=t||{}}return e.prototype.pv=function(e,t){(t=t||this.options).url=t.url||this.url,sendFunction({block:e,t:21},t)},e.prototype.cl=function(e,t){(t=t||this.options).url=t.url||this.url;var r={t:20,rseat:e};mixin(r,t),!r.re&&window.document&&(r.re=[document.body.offsetWidth,document.body.offsetHeight].join("*")),sendFunction(r,t)},e}(),instance=new Component,sendFunction=function(e,t){var r=t.url,a={pf:1,p:10,p1:101,p2:"1_10_101",jsuid:cookie.get("QC005"),u:cookie.get("QC005"),pu:cookie.get("P00003")};mixin(a,e),t.param&&"object"==typeof t.param&&(t.cover?a=t.param:mixin(a,t.param)),/^(http:|https:)?\/\/([\w.]+\/?)\S*$/.test(t.url)?r=t.url:t.url&&(r=domain+t.url),http.beacon(a,r)},pingback={create:function(e){return new Component(e.url,e)},cl:function(e,t){instance.cl(e,t)},pv:function(e,t){instance.pv(e,t)}},browser=platform$1.browser,_swf,i18nLang,TEXT={zh:{error_maintitle:"Flash鎻掍欢寮傚父",error_fltitle:"涓嬭浇瀹樻柟Flash鎻掍欢",error_h5title:"姝ｅ湪鍒囨崲HTML5鎾斁妯″紡",error_fltip:"宸插畨瑁呬粛鏃犳硶瑙傜湅"},tw:{error_maintitle:"Flash鎻掍欢鐣板父",error_fltitle:"涓嬭級瀹樻柟Flash鎻掍欢",error_h5title:"姝ｅ湪鍒囨彌HTML5鎾斁妯″紡",error_fltip:"宸插畨瑁濅粛鐒℃硶瑙€鐪�"}},EmbedSwf=function(){function e(){}return e.prototype.embed=function(e,t){var r={};i18nLang=TEXT.zh,"tw_t"!=e.locale&&"cn_t"!=e.locale||(i18nLang=TEXT.tw),r.quality="high",r.allowScriptAccess="always",r.wmode=e.wmode?e.wmode:"opaque",r.align="middle",r.bgcolor="#000000",r.swLiveConnect="true",r.loop="true",r.play="true",r.DeviceFont="false",r.allowFullScreen="true",r.menu="true",r.flashVars="",(browser.IE6||browser.IE7||browser.IE8)&&(r.movie=e.playerUrl),e.origin=e.origin||"swf_"+e.parentId,e.P00001=cookie.get("P00001")||"",e.fluid=cookie.get("QC005")||"",e.jsuid=cookie.get("QC006")||"",e.profileID=cookie.get("P00PRU")||"",e.profileCookie=cookie.get("P00007")||"",e.passportID=cookie.get("P00003")||"",e.vipuser=cookie.get("CM0001")||"",e.vv=cookie.get("QC004")||"",e.yhls=1*new Date+parseInt(1e11*Math.random(),10),e.playerCTime=e.plyct,e.pageCTime=e.pgct,e.webEventID=window.webEventID||"",e.tmplt=e.pageTmpltType||0,e.isSupportHtml5=t?"1":"0",e.definitionID=e.vid,e.tvId=e.tvid;for(var a=["tvid","vid","wmode"],i=0;i<a.length;i++)e[a[i]]&&delete e[a[i]];for(var n in e)"undefined"==typeof e[n]||/^h5/gi.test(n)||(r.flashvars+=(/=/gi.test(r.flashvars)?"&":"")+n+"="+e[n]);var o=[];for(var s in o.push('<object id="'+e.origin+'" height="100%" width="100%" data-player-playerbody="flash" '+(browser.IE6||browser.IE7?'classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" ':"")+'type="application/x-shockwave-flash" data="'+e.playerUrl+'">'),r)r[s]&&o.push('<param name="',s,'" value="',r[s],'" />');var l="",c=document.getElementById(e.parentId),p={maintitle:"font-size:22px;margin-bottom:24px;font-weight:normal",tiptitle:"font-size:14px;margin-bottom:18px",iconflash:"width:100px;height:100px;border-radius:50%;display:block;margin:-2px auto 0;background:url(//www.iqiyipic.com/common/fix/iq-player/fla-player-l.png) no-repeat center;cursor:pointer;background-color:#131313",iconlink:"font-size:13px;color:#00be06;text-decoration:none;display:inline-block;margin-top:12px"},d={maintitle:"font-size:26px;margin-bottom:32px;font-weight:normal",tiptitle:"font-size:18px;margin-bottom:32px",iconflash:"width:124px;height:124px;border-radius:50%;display:block;margin:-6px auto 0;background:url(//www.iqiyipic.com/common/fix/iq-player/fla-player.png) no-repeat center;cursor:pointer;background-color:#131313",iconlink:"font-size:16px;color:#00be06;text-decoration:none;display:inline-block;margin-top:15px"};if(/micromessenger/.test(navigator.userAgent.toLowerCase()))l='<div style="background-color:#232323;width:100%;height:100%;position:absolute;top:0;left:0;z-index:100;"><div style="position:absolute;left:50%;margin-left:-180px;top:50%;margin-top:-40px;"><p style="text-align:center;margin-bottom:40px;color:#fff;">涓轰繚璇佽褰变綋楠岋紝璇蜂娇鐢ㄧ郴缁熸祻瑙堝櫒瑙傜湅瑙嗛銆�</p><p style="text-align:center;margin-bottom:40px;color:#fff;">鎴栧湪寰俊瀹㈡埛绔�--閫氱敤璁剧疆涓嬀閫夆€濅娇鐢ㄧ郴缁熼粯璁ゆ祻瑙堝櫒鎵撳紑缃戦〉鈥溿€�</p></div></div>';else{var f=d;c.offsetWidth<=995&&(f=p),l+='<div style="position:absolute;top:0;left:0;right:0;bottom:0;background-color:#000;z-index:100">  <div style="text-align:center;overflow:hidden;position:absolute;width:100%;top:50%;margin-top:-115px;text-align:center;color:#ddd">    <h3 id="j_qpmaintitle" style="'+f.maintitle+'">'+i18nLang.error_maintitle+'</h3>\t<p id="j_qptiptitle" style="'+f.tiptitle+'">'+i18nLang.error_fltitle+'</p><a id="j_qpflashdown" href="//www.adobe.com/go/getflashplayer" target="_blank" onmouseover="this.style.backgroundColor=\'#171717\'" onmouseout="this.style.backgroundColor=\'#131313\'"style="'+f.iconflash+'"</a><a id="j_qpflashhelp" target="_blank" href="//help.iqiyi.com/questionInfo/4048.html" style="'+f.iconlink+'">'+i18nLang.error_fltip+"></a>  </div></div>"}o.push(l),o.push("</object>");var _=o.join(""),u=document.createElement("div");u.innerHTML=_;try{c.appendChild(u.firstChild),this.addEvent(window,"resize",function(){var e=document.getElementById("j_qpflashdown");if(e){var t=document.getElementById("j_qpflashhelp"),r=document.getElementById("j_qpmaintitle"),a=document.getElementById("j_qptiptitle");c.offsetWidth<=995?(r.style.cssText=p.maintitle,a.style.cssText=p.tiptitle,e.style.cssText=p.iconflash,t.style.cssText=p.iconlink):(r.style.cssText=d.maintitle,a.style.cssText=d.tiptitle,e.style.cssText=d.iconflash,t.style.cssText=d.iconlink)}}),this.addEvent(c,"click",function(e){var t,r=((e=e||event).srcElement?e.srcElement:e.target).id;"j_qpflashdown"==r?pingback.cl("80720_errorpanel_flash"):"j_qpflashhelp"==r&&pingback.cl("80720_errorpanel_flash_explanation")}),pingback.pv("80720_errorpanel_flash"),(_swf=document.getElementById(e.origin)).loadSuccess=!1}catch(y){}return u=null,_swf},e.prototype.addEvent=function(e,t,r){window.attachEvent?e.attachEvent("on"+t,r):window.addEventListener&&e.addEventListener(t,r)},e}(),cbcache={},genCacheKey=function(e){return e},VideoInfo={get:function(e,n){var t=e.tvid,r=e.locale,a=genCacheKey(t);if(cbcache[a]=cbcache[a]||[],cbcache[a].push(n),t&&n&&cbcache[a].length<2){var i="//pcw-api.iqiyi.com/video/video/playervideoinfo?tvid="+t;i=r?i+"&locale="+r:i,http.jsonp({url:i,memory:!0,success:function(e){"A00000"===e.code&&e.data||n({}),e=e.data;var t=genCacheKey(e.tvid),r=genCacheKey(e.videoQipuId),a=[];cbcache[t]?(a=(cbcache[t]||[]).slice(0),delete cbcache[t]):cbcache[r]&&(a=(cbcache[r]||[]).slice(0),delete cbcache[r]);for(var i=0;i<a.length;i++)a[i]&&function(e,t){setTimeout(function(){e({tvid:t.videoQipuId,vid:t.vid,albumId:t.albumId,cid:t.cid,vi:t})},0)}(a[i],e);a=null},failure:function(e){n(e||{})}})}},isUGC:function(e){return!!((e+="")&&2<e.length&&"9"==e.charAt(e.length-1)&&"0"==e.charAt(e.length-2)&&0<(e=parseInt(e,10))&&9e7<e)}},xml2json=function(d){var e="1.2.0";function t(){d.escapeMode===undefined&&(d.escapeMode=!0),d.attributePrefix=d.attributePrefix||"_",d.arrayAccessForm=d.arrayAccessForm||"none",d.emptyNodeForm=d.emptyNodeForm||"text",d.enableToStringFunc===undefined&&(d.enableToStringFunc=!0),d.arrayAccessFormPaths=d.arrayAccessFormPaths||[],d.skipEmptyTextNodesForObj===undefined&&(d.skipEmptyTextNodesForObj=!0),d.stripWhitespaces===undefined&&(d.stripWhitespaces=!0),d.datetimeAccessFormPaths=d.datetimeAccessFormPaths||[],d.useDoubleQuotes===undefined&&(d.useDoubleQuotes=!1),d.xmlElementsFilter=d.xmlElementsFilter||[],d.jsonPropertiesFilter=d.jsonPropertiesFilter||[],d.keepCData===undefined&&(d.keepCData=!1)}d=d||{},t();var f={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function _(e){var t=e.localName;return null==t&&(t=e.baseName),null!=t&&""!=t||(t=e.nodeName),t}function u(e){return e.prefix}function l(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):e}function i(e,t,r,a){for(var i=0;i<e.length;i++){var n=e[i];if("string"==typeof n){if(n==a)break}else if(n instanceof RegExp){if(n.test(a))break}else if("function"==typeof n&&n(t,r,a))break}return i!=e.length}function y(e,t,r){switch(d.arrayAccessForm){case"property":e[t]instanceof Array?e[t+"_asArray"]=e[t]:e[t+"_asArray"]=[e[t]]}!(e[t]instanceof Array)&&0<d.arrayAccessFormPaths.length&&i(d.arrayAccessFormPaths,e,t,r)&&(e[t]=[e[t]])}function n(e){var t=e.split(/[-T:+Z]/g),r=new Date(t[0],t[1]-1,t[2]),a=t[5].split(".");if(r.setHours(t[3],t[4],a[0]),1<a.length&&r.setMilliseconds(a[1]),t[6]&&t[7]){var i=60*t[6]+Number(t[7]),n;i=0+("-"==(/\d\d-\d\d:\d\d$/.test(e)?"-":"+")?-1*i:i),r.setMinutes(r.getMinutes()-i-r.getTimezoneOffset())}else-1!==e.indexOf("Z",e.length-1)&&(r=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds())));return r}function h(e,t,r){if(0<d.datetimeAccessFormPaths.length){var a=r.split(".#")[0];return i(d.datetimeAccessFormPaths,e,t,a)?n(e):e}return e}function m(e,t,r,a){return!(t==f.ELEMENT_NODE&&0<d.xmlElementsFilter.length)||i(d.xmlElementsFilter,e,r,a)}function E(e,t){var r,a,i,n,o,s,l,c;if(e.nodeType==f.DOCUMENT_NODE){for(c=new Object,l=e.childNodes,s=0;s<l.length;s++)(r=l.item(s)).nodeType==f.ELEMENT_NODE&&(c[a=_(r)]=E(r,a));return c}if(e.nodeType==f.ELEMENT_NODE){for((c=new Object).__cnt=0,l=e.childNodes,s=0;s<l.length;s++)a=_(r=l.item(s)),r.nodeType!=f.COMMENT_NODE&&(i=t+"."+a,m(c,r.nodeType,a,i)&&(c.__cnt++,null==c[a]?(c[a]=E(r,i),y(c,a,i)):(null!=c[a]&&(c[a]instanceof Array||(c[a]=[c[a]],y(c,a,i))),c[a][c[a].length]=E(r,i))));for(o=0;o<e.attributes.length;o++)n=e.attributes.item(o),c.__cnt++,c[d.attributePrefix+n.name]=n.value;var p=u(e);return null!=p&&""!=p&&(c.__cnt++,c.__prefix=p),null!=c["#text"]&&(c.__text=c["#text"],c.__text instanceof Array&&(c.__text=c.__text.join("\n")),d.stripWhitespaces&&(c.__text=c.__text.trim()),delete c["#text"],"property"==d.arrayAccessForm&&delete c["#text_asArray"],c.__text=h(c.__text,a,t+"."+a)),null!=c["#cdata-section"]&&(c.__cdata=c["#cdata-section"],delete c["#cdata-section"],"property"==d.arrayAccessForm&&delete c["#cdata-section_asArray"]),0==c.__cnt&&"text"==d.emptyNodeForm?c="":1==c.__cnt&&null!=c.__text?c=c.__text:1!=c.__cnt||null==c.__cdata||d.keepCData?1<c.__cnt&&null!=c.__text&&d.skipEmptyTextNodesForObj&&(d.stripWhitespaces&&""==c.__text||""==c.__text.trim())&&delete c.__text:c=c.__cdata,delete c.__cnt,!d.enableToStringFunc||null==c.__text&&null==c.__cdata||(c.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),c}if(e.nodeType==f.TEXT_NODE||e.nodeType==f.CDATA_SECTION_NODE)return e.nodeValue}function c(e,t,r,a){var i="<"+(null!=e&&null!=e.__prefix?e.__prefix+":":"")+t;if(null!=r)for(var n=0;n<r.length;n++){var o=r[n],s=e[o];d.escapeMode&&(s=l(s)),i+=" "+o.substr(d.attributePrefix.length)+"=",d.useDoubleQuotes?i+='"'+s+'"':i+="'"+s+"'"}return i+=a?"/>":">"}function p(e,t){return"</"+(null!=e.__prefix?e.__prefix+":":"")+t+">"}function r(e,t){return-1!==e.indexOf(t,e.length-t.length)}function g(e,t){return!!("property"==d.arrayAccessForm&&r(t.toString(),"_asArray")||0==t.toString().indexOf(d.attributePrefix)||0==t.toString().indexOf("__")||e[t]instanceof Function)}function P(e){var t=0;if(e instanceof Object)for(var r in e)g(e,r)||t++;return t}function A(e,t,r){return 0==d.jsonPropertiesFilter.length||""==r||i(d.jsonPropertiesFilter,e,t,r)}function v(e){var t=[];if(e instanceof Object)for(var r in e)-1==r.toString().indexOf("__")&&0==r.toString().indexOf(d.attributePrefix)&&t.push(r);return t}function a(e){var t="";return null!=e.__cdata&&(t+="<![CDATA["+e.__cdata+"]]>"),null!=e.__text&&(d.escapeMode?t+=l(e.__text):t+=e.__text),t}function L(e){var t="";return e instanceof Object?t+=a(e):null!=e&&(d.escapeMode?t+=l(e):t+=e),t}function T(e,t){return""===e?t:e+"."+t}function R(e,t,r,a){var i="";if(0==e.length)i+=c(e,t,r,!0);else for(var n=0;n<e.length;n++)i+=c(e[n],t,v(e[n]),!1),i+=O(e[n],T(a,t)),i+=p(e[n],t);return i}function O(e,t){var r="",a;if(0<P(e))for(var i in e)if(!g(e,i)&&(""==t||A(e,i,T(t,i)))){var n=e[i],o=v(n);if(null==n||n==undefined)r+=c(n,i,o,!0);else if(n instanceof Object)if(n instanceof Array)r+=R(n,i,o,t);else if(n instanceof Date)r+=c(n,i,o,!1),r+=n.toISOString(),r+=p(n,i);else{var s;0<P(n)||null!=n.__text||null!=n.__cdata?(r+=c(n,i,o,!1),r+=O(n,T(t,i)),r+=p(n,i)):r+=c(n,i,o,!0)}else r+=c(n,i,o,!1),r+=L(n),r+=p(n,i)}return r+=L(e)}this.parseXmlString=function(e){var t=window.ActiveXObject||"ActiveXObject"in window,r;if(e===undefined)return null;if(window.DOMParser){var a=new window.DOMParser,i=null;if(!t)try{i=a.parseFromString("INVALID","text/xml").getElementsByTagName("parsererror")[0].namespaceURI}catch(err){i=null}try{r=a.parseFromString(e,"text/xml"),null!=i&&0<r.getElementsByTagNameNS(i,"parsererror").length&&(r=null)}catch(err){r=null}}else 0==e.indexOf("<?")&&(e=e.substr(e.indexOf("?>")+2)),(r=new ActiveXObject("Microsoft.XMLDOM")).async="false",r.loadXML(e);return r},this.asArray=function(e){return e===undefined||null==e?[]:e instanceof Array?e:[e]},this.toXmlDateTime=function(e){return e instanceof Date?e.toISOString():"number"==typeof e?new Date(e).toISOString():null},this.asDateTime=function(e){return"string"==typeof e?n(e):e},this.xml2json=function(e){return E(e)},this.xml_str2json=function(e){var t=this.parseXmlString(e);return null!=t?this.xml2json(t):null},this.json2xml_str=function(e){return O(e,"")},this.json2xml=function(e){var t=this.json2xml_str(e);return this.parseXmlString(t)},this.getVersion=function(){return e}},logger=new PlayerLogger("FlashAdapter"),FlashAdapter=function(_super){function FlashAdapter(param,isSupportHtml5,manager){var _this_1=_super.call(this)||this;_this_1._player=_this_1,_this_1.__canRecordEvents=!0,_this_1.eventsRecorder={},_this_1.__evtRecorderTimer=setTimeout(function(){_this_1.stopRecordEvents()},3e5),_this_1.isSmallWindow=null,_this_1._videoid=param.vid,_this_1._tvid=param.tvid,_this_1.local=param.local||"cn_s",_this_1._isFirstWriteLog=!0;var _this=_this_1;return _this_1._embedSwf=new EmbedSwf,_this_1._swf=_this_1._embedSwf.embed(param,isSupportHtml5),_this_1._playerId=param.parentId||"",_this_1._param=param,_this_1._prevCalls=[],_this_1._firstTime=!0,_this_1.LOGGER_KEY="QiyiPlayerLogger",_this_1._swf&&(_this_1._swf.fire=function(data){try{var ev_1=window.JSON?window.JSON.parse(data):eval("("+data+")");if(ev_1.data.origin&&ev_1.data.origin!=_this._swf.id)return;setTimeout(function(){try{_this.handleEvent(ev_1.type,ev_1.data)}catch(e){}},0)}catch(e){return}},_this_1.destroy=function(){logger.log("js call func,params: type = player destroy(閿€姣佹挱鏀惧櫒)"),_this_1._swf.parentNode.removeChild(_this_1._swf),_this_1._swf=null,_this_1._embedSwf=null,delete manager.players[_this_1._playerId],_this_1.fire({type:"destroy"}),_this_1.removeAllListeners()}),_this_1._embedSwf.addEvent(window,"beforeunload",function(){_this_1._flashcall("stopHeartBeat")}),_this_1}return __extends(FlashAdapter,_super),FlashAdapter.prototype.callSwf=function(e){var t=this._swf,r=e.functionName,a=e.parameter,i=e.callback||function(){};t&&r&&t[r]&&(a===undefined?i(t[r]()):"[object Object]"==Object.prototype.toString.apply(a)||"[object Array]"==Object.prototype.toString.apply(a)?i(t[r](JSON.stringify(a))):i(t[r](a)))},FlashAdapter.prototype.handleEvent=function(e,r){var a=this;if(r=r||{},e==CON_TYPE.QYPLAYER_STATE_CHANGE){var t=r.state||"";r.vid!=a._videoid&&(a._videoid=r.vid,a._tvid=r.tvid,t.toLocaleLowerCase()==CON_TYPE.QYPLAYER_STATUS_LOAD_MOVIE&&a.getVideoInfo(function(e){logger.info("call js, fire event,params: type = videoChanged(瑙嗛鍒囨崲瀹屾垚)"),a.fire({type:CON_TYPE.QYPLAYER_VIDEO_CHANGE,data:e})}),a.getPlayInfo(function(e){var t={};t.prePlayingDuration=e.prePlayingDuration,t.preTvid=e.preTvid,t.curPlayingDuration=e.curPlayingDuration,t.playerVersion=e.playerVersion,mixin(r,t),logger.info("call js, fire event,params: type = vidChanged(瑙嗛鍒囨崲)"),a.fire({type:CON_TYPE.QYPLAYER_VID_CHANGE,data:r})})),t.toLocaleLowerCase()==CON_TYPE.QYPLAYER_STATUS_DATA_READY&&a.getVideoInfo(function(e){logger.info("call js, fire event,params: type = dataready(鏁版嵁淇℃伅宸茬粡鍑嗗濂�)"),a.fire({type:CON_TYPE.QYPLAYER_STATUS_DATA_READY,data:e})}),t.toLocaleLowerCase()==CON_TYPE.QYPLAYER_STATUS_END_PLAY&&a.getPlayInfo(function(e){var t={};t.prePlayingDuration=e.prePlayingDuration,t.preTvid=e.preTvid,t.curPlayingDuration=e.curPlayingDuration,t.playerVersion=e.playerVersion,mixin(r,t)}),t.toLocaleLowerCase()==CON_TYPE.QYPLAYER_STATUS_START_PLAY&&a.getPlayInfo(function(e){a._timeMark=e.totaleDuration,mixin(r,e)}),t.toLocaleLowerCase()==CON_TYPE.QYPLAYER_STATUS_SEEKING&&a.fire({type:CON_TYPE.QYPLAYER_STATUS_SEEKING,data:{actionType:"controls",current:r.current,duration:r.duration}}),r.state&&(r.state=t.toLocaleLowerCase()),logger.info("call js, fire event,params: type = playerStateChange(鐘舵€佹敼鍙�), state = "+t.toLocaleLowerCase()),a.fire({type:CON_TYPE.QYPLAYER_STATE_CHANGE,data:r})}else if(e==CON_TYPE.QYPLAYER_NEXT_VIDEO)logger.info("call js, fire event,params: type = playnextvideo(鐐瑰嚮涓嬩竴闆�)"),a.fire({type:CON_TYPE.QYPLAYER_NEXT_VIDEO});else if(e==CON_TYPE.QYPLAYER_SWITCH_PLAYER)cookie.set("QP004",0,{expires:288e5,path:"/",domain:"iqiyi.com"}),window.location.reload();else if(e==CON_TYPE.QYPLAYER_LOAD_COMPLETE)logger.info("call js, fire event,params: type = loadcomplete(鍔犺浇瀹屾垚)"),a.fire({type:CON_TYPE.QYPLAYER_LOAD_COMPLETE,data:r});else if(e==CON_TYPE.QYPLAYER_SET_LIGHT){var i="false"==r.open;logger.info("call js, fire event,params: type = setLight(寮€鍏崇伅), open = "+i),a.fire({type:CON_TYPE.QYPLAYER_SET_LIGHT,data:i})}else if(e==CON_TYPE.QYPLAYER_MOVETO_QITAN)logger.info("call js, fire event,params: type = moveToQitan(绉诲姩鍒拌瘎璁�)"),a.fire({type:CON_TYPE.QYPLAYER_MOVETO_QITAN});else if(e==CON_TYPE.QYPLAYER_LOAD_SUCCESS)r.playerId=this._param.parentId,logger.info("call js, fire event,params: type = playerLoadSuccess(鎾斁鍣ㄥ垵濮嬪寲瀹屾瘯)"),a.fire({type:CON_TYPE.QYPLAYER_LOAD_SUCCESS,data:r});else if(e==CON_TYPE.QYPLAYER_SHOW_LOGIN_PANEL)logger.info("call js, fire event,params: type = showLoginPanel(寮瑰嚭鐧诲綍妗�)"),a.fire({type:CON_TYPE.QYPLAYER_SHOW_LOGIN_PANEL,data:r});else if(e==CON_TYPE.QYPLAYER_EXPAND)logger.info("call js, fire event,params: type = expand(灏嗘挱鏀惧櫒鏀惧ぇ灞曞紑)"),a.fire({type:CON_TYPE.QYPLAYER_EXPAND,data:r});else if(e==CON_TYPE.QYPLAYER_AUTHENTICATION_RESULE)logger.info("call js, fire event,params: type = authenticationResult(閴存潈缁撴灉), isTryWatch = "+r.isTryWatch),a.fire({type:CON_TYPE.QYPLAYER_AUTHENTICATION_RESULE,data:{isTryWatch:"true"==r.isTryWatch,tvid:r.tvid}});else if(e==CON_TYPE.QYPLAYER_RECHARGE)logger.info("call js, fire event,params: type = recharge(璇锋眰JS鍏呭€�)"),a.fire({type:CON_TYPE.QYPLAYER_RECHARGE,data:r});else if(e==CON_TYPE.QYPLAYER_REFRESH_PAGE)logger.info("call js, fire event,params: type = refreshPage(鍒锋柊椤甸潰)"),a.fire({type:CON_TYPE.QYPLAYER_REFRESH_PAGE});else if(e==CON_TYPE.QYPLAYER_DOWNLOAD)logger.info("call js, fire event,params: type = download(绂荤嚎涓嬭浇)"),a.fire({type:CON_TYPE.QYPLAYER_DOWNLOAD,data:r});else if(e==CON_TYPE.QYPLAYER_REQUEST_VIDEOLIST)logger.info("call js, fire event,params: type = requestVideoList(璇锋眰鑱旀挱鍒楄〃)"),a.fire({type:CON_TYPE.QYPLAYER_REQUEST_VIDEOLIST,data:r});else if(e==CON_TYPE.QYPLAYER_SWITCH_FULL_SCREEN)logger.info("call js, fire event,params: type = switchFullScreen(鍏ㄥ睆|鏅睆鍒囨崲)"),a.fire({type:CON_TYPE.QYPLAYER_SWITCH_FULL_SCREEN,data:r.value});else if(e==CON_TYPE.QYPLAYER_ADD_TO_TABLE)logger.info("call js, fire event,params: type = addToTable(杩藉墽鐜�--娣诲姞鍒版闈�)"),a.fire({type:CON_TYPE.QYPLAYER_ADD_TO_TABLE});else if(e==CON_TYPE.QYPLAYER_ADD_TO_TABLE)logger.info("call js, fire event,params: type = addToTable(杩藉墽鐜�--娣诲姞鍒版闈�)"),a.fire({type:CON_TYPE.QYPLAYER_ADD_TO_TABLE});else if(e==CON_TYPE.QYPLAYER_FOCUS_TIPS)logger.info("call js, fire event,params: type = focusTips(鎾斁鍒扮湅鐐�)"),a.fire({type:CON_TYPE.QYPLAYER_FOCUS_TIPS,data:r});else if(e==CON_TYPE.QYPLAYER_FOCUS_UPLOADER)logger.info("call js, fire event,params: type = focusUploader(鑾峰彇璁㈤槄淇℃伅)"),a.fire({type:CON_TYPE.QYPLAYER_FOCUS_UPLOADER,data:r});else if(e==CON_TYPE.QYPLAYER_FIND_GOODS)logger.info("call js, fire event,params: type = findGoods(瀹氫綅鍒板晢鍝�)"),a.fire({type:CON_TYPE.QYPLAYER_FIND_GOODS,data:r});else if(e==CON_TYPE.QYPLAYER_BARRAGE_REPLAY)logger.info("call js, fire event,params: type = barrageReply(鍥炲寮瑰箷)"),a.fire({type:CON_TYPE.QYPLAYER_BARRAGE_REPLAY,data:r});else if(e==CON_TYPE.QYPLAYER_BARRAGE_RECEIVE_DATA)logger.info("call js, fire event,params: type = barrageReceiveData(鏀跺埌鏈嶅姟鍣ㄦ渶鏂皊ocket寮瑰箷淇℃伅)"),a.fire({type:CON_TYPE.QYPLAYER_BARRAGE_RECEIVE_DATA,data:r});else if(e==CON_TYPE.QYPLAYER_SET_BARRAGE_INTERACT_INFO)logger.info("call js, fire event,params: type = setBarrageInteractInfo(鏀跺埌鏈嶅姟鍣ㄥ畼寮逛簰鍔ㄤ俊鎭暟鎹�)"),a.fire({type:CON_TYPE.QYPLAYER_SET_BARRAGE_INTERACT_INFO,data:r});else if(e==CON_TYPE.QYPLAYER_SET_BARRAGE_CONFIG_INFO)logger.info("call js, fire event,params: type = setHasBarrageConfigInfo(寮瑰箷鐨勪簯鎺ч厤缃�)"),a.fire({type:CON_TYPE.QYPLAYER_SET_BARRAGE_CONFIG_INFO,data:r});else if(e==CON_TYPE.QYPLAYER_SET_BARRAGE_CHANNEL_CONFIG_INFO)logger.info("call js, fire event,params: type = setHasBarrageChannelConfigInfo(寮瑰箷鐨勯閬撻厤缃�)"),a.fire({type:CON_TYPE.QYPLAYER_SET_BARRAGE_CHANNEL_CONFIG_INFO,data:r});else if(e==CON_TYPE.QYPLAYER_NOTIFY_GIFT_INFO)logger.info("call js, fire event,params: type = notifyGiftInfo(鍙戠幇寮瑰箷绾㈠寘)"),a.fire({type:CON_TYPE.QYPLAYER_NOTIFY_GIFT_INFO,data:{data:decodeURIComponent(r.data||"")}});else if(e==CON_TYPE.QYPLAYER_NOTIFY_BARRAGE_DATA){logger.info("call js, fire event,params: type = notifyBarrageData(鍙戠幇寮瑰箷鏁版嵁)");var n={};r&&r.data&&(n=(new xml2json).xml_str2json(decodeURIComponent(r.data))),a.fire({type:CON_TYPE.QYPLAYER_NOTIFY_BARRAGE_DATA,data:{data:n.danmu}})}else e==CON_TYPE.QYPLAYER_SHOW_DOWNLOAD_APPPOP?(logger.info("call js, fire event,params: type = showDownLoadAppPop(涓嬭浇褰遍煶瀹㈡埛绔�)"),a.fire({type:CON_TYPE.QYPLAYER_SHOW_DOWNLOAD_APPPOP,data:r})):e==CON_TYPE.QYPLAYER_NOTIFY_SCORECHANGE?a.fire({type:CON_TYPE.QYPLAYER_NOTIFY_SCORECHANGE}):e==CON_TYPE.QYPLAYER_CHECK_CLIENT_INSTALL?(logger.info("call js, fire event,params: type = checkClientInstall(妫€娴嬪鎴风)"),a.fire({type:CON_TYPE.QYPLAYER_CHECK_CLIENT_INSTALL,data:r})):e==CON_TYPE.QYPLAYER_REQUEST_SEND_PINGBACK?(logger.info("call js, fire event,params: type = requestJSSendPB(璇锋眰JS鍙戦€乸ingback)"),a.fire({type:CON_TYPE.QYPLAYER_REQUEST_SEND_PINGBACK,data:r})):e==CON_TYPE.QYPLAYER_DOSOMETHING?(logger.info("call js, fire event,params: type = setJsDoSomething(璇锋眰JS鍋氭煇浜涙搷浣�)"),a.fire({type:CON_TYPE.QYPLAYER_DOSOMETHING,data:r})):e==CON_TYPE.QYPLAYER_FOLLOW_UPNEXT_LOAD?(logger.info("call js, fire event,params: type = followUpNextLoad(缁х画鍔犺浇鍚庣画缁撴瀯)"),a.fire({type:CON_TYPE.QYPLAYER_FOLLOW_UPNEXT_LOAD,data:r})):e==CON_TYPE.QYPLAYER_USER_CLICK_SCORE?(logger.info("call js, fire event,params: type = userClickScore(璇勫垎)"),a.fire({type:CON_TYPE.QYPLAYER_USER_CLICK_SCORE,data:r})):e==CON_TYPE.QYPLAYER_BARRAGE_STATE_CHANGE?(logger.info("call js, fire event,params: type = barrageStateChange(寮瑰箷鐘舵€佸彂鐢熸敼鍙�)"),a.fire({type:CON_TYPE.QYPLAYER_BARRAGE_STATE_CHANGE,data:r})):e==CON_TYPE.QYPLAYER_REQUEST_REWARD?(logger.info("call js, fire event,params: type = requestReward(璇锋眰鎵撹祻)"),a.fire({type:CON_TYPE.QYPLAYER_REQUEST_REWARD,data:r})):e==CON_TYPE.QYPLAYER_COMMENT_ALLOWED?(logger.info("call js, fire event,params: type = commentAllowed(vrs鐨勮瘎璁哄瓧娈�)"),a.fire({type:CON_TYPE.QYPLAYER_COMMENT_ALLOWED,data:r})):e==CON_TYPE.QYPLAYER_NOTIFY_WRITE_FLASH_LOG?a._isFirstWriteLog?(storage$1.write(a.LOGGER_KEY,r.logStr.join("\n")),a._isFirstWriteLog=!1):storage$1.write(a.LOGGER_KEY,storage$1.read(a.LOGGER_KEY)+"\n"+r.logStr.join("\n")):e==CON_TYPE.QYPLAYER_NOTIFY_AD_START?(logger.info("call js, fire event,params: type = ADStart(骞垮憡寮€鎾�)"),a.fire({type:CON_TYPE.QYPLAYER_NOTIFY_AD_START,data:r})):e==CON_TYPE.QYPLAYER_NOTIFY_AD_END?(logger.info("call js, fire event,params: type = ADEnd(骞垮憡鎾斁瀹屾垚)"),a.fire({type:CON_TYPE.QYPLAYER_NOTIFY_AD_END,data:r})):e==CON_TYPE.QYPLAYER_NOTIFY_TIMEUPDATE?a.fire({type:CON_TYPE.QYPLAYER_NOTIFY_TIMEUPDATE,data:r}):e==CON_TYPE.QYPLAYER_NOTIFY_AD_NOTIFY_INFO?(logger.info("call js, fire event,params: type = AD notify info(骞垮憡閫氱煡鐨勪俊鎭�-鍙槸杞彂)"+r.type),a.fire({type:r.data.type,data:r.data.data})):e==CON_TYPE.QYPLAYER_NOTIFY_FEEDBACK_SHOW?a.fire({type:CON_TYPE.QYPLAYER_NOTIFY_FEEDBACK_SHOW,data:r}):e==CON_TYPE.QYPLAYER_NOTIFY_FEEDBACK_HIDE?a.fire({type:CON_TYPE.QYPLAYER_NOTIFY_FEEDBACK_HIDE,data:r}):e==CON_TYPE.QYPLAYER_NOTIFY_USER_SEEK?a.fire({type:CON_TYPE.QYPLAYER_NOTIFY_USER_SEEK}):e==CON_TYPE.QYPLAYER_BARRAGE_RECEIVE_DATA&&a.fire({type:CON_TYPE.QYPLAYER_BARRAGE_RECEIVE_DATA,data:r})},FlashAdapter.prototype.fire=function(e){var t=e.type,r=e.data,a={type:t};r!==undefined&&(a.data=r),this.emit(t,a),this.__canRecordEvents&&(this.eventsRecorder[t]||(this.eventsRecorder[t]=[]),"playerStateChange"===t?this.eventsRecorder[t].push(a):this.eventsRecorder[t]=[a])},FlashAdapter.prototype.un=function(e,t){return this.off(e,t),this},FlashAdapter.prototype._flashcall=function(e,t,r){var a={callback:r,functionName:e,parameter:t};this.callSwf(a)},FlashAdapter.prototype.load=function(e){logger.info("js call func,params: type = load(鍔犺浇瑙嗛), data = "+e),this._flashcall("loadQiyiVideo",e)},FlashAdapter.prototype.stopRecordEvents=function(){var e=this;e.__canRecordEvents=!1,clearTimeout(e.__evtRecorderTimer),setTimeout(function(){e.eventsRecorder={}},1e4)},FlashAdapter.prototype.play=function(){logger.info("js call func,params: type = play(鎾斁)"),this._flashcall("playQiyiVideo")},FlashAdapter.prototype.resume=function(){logger.info("js call func,params: type = resume"),this._flashcall("resumeQiyiVideo")},FlashAdapter.prototype.replay=function(){logger.info("js call func,params: type = replay"),this._flashcall("replayQiyiVideo")},FlashAdapter.prototype.pause=function(){logger.info("js call func,params: type = pause"),this._flashcall("pauseQiyiVideo")},FlashAdapter.prototype.seek=function(e){logger.info("js call func,params: type = seek, time = "+e),this._flashcall("seekQiyiVideo",e)},FlashAdapter.prototype.stop=function(){logger.info("js call func,params: type = stop(鍋滄鎾斁)"),this._flashcall("stopQiyiVideo")},FlashAdapter.prototype.getPlayInfo=function(a){this._flashcall("getQiyiPlayerInfo",undefined,function(e){var t=e||"",r=t?JSON.parse(t.replace(/\r/g,"").replace(/\n/g,"")):"";r&&(r.currentTime=r.currentTime?r.currentTime/1e3:0,a(r))})},FlashAdapter.prototype.getVideoInfo=function(e){var t=this.locale;t="tw_t"===t||"cn_t"===t?"zh_tw":"",VideoInfo.get({tvid:this._tvid,vid:this._videoid,locale:t},e)},FlashAdapter.prototype.getPlayerId=function(){return this._playerId},FlashAdapter.prototype.setQiyiUserLogin=function(e){logger.info("js call func,params: type = setQiyiUserLogin(淇敼鐧诲綍鐘舵€�), param = "+PlayerLogger.stringify(e)),this._flashcall("setQiyiUserLogin",e)},FlashAdapter.prototype.switchVideo=function(e){logger.info("js call func,params: type = switchVideo(褰辩墖鍒囨崲), param = "+PlayerLogger.stringify(e)),this._flashcall("switchVideo",e)},FlashAdapter.prototype.switchNextVideo=function(){logger.info("js call func,params: type = switchNextVideo(涓嬩竴闆�)"),this._flashcall("switchNextVideo")},FlashAdapter.prototype.switchPreVideo=function(){logger.info("js call func,params: type = switchPreVideo(涓婁竴闆�)"),this._flashcall("switchNextVideo")},FlashAdapter.prototype.addVideoList=function(e){logger.info("js call func,params: type = addVideoList(娣诲姞鑱旀挱鍒楄〃)"),this._flashcall("addVideoList",e)},FlashAdapter.prototype.removeVideoList=function(e){logger.info("js call func,params: type = removeVideoList(浠庤仈鎾垪琛ㄥ垹闄�), data = "+e),this._flashcall("removeVideoList",e)},FlashAdapter.prototype.setSmallWindowMode=function(e){this.isSmallWindow!==e&&(logger.info("js call func,params: type = setSmallWindowMode(璁剧疆灏忕獥,1涓哄皬绐�), data = "+e),this.isSmallWindow=e,this._flashcall("setSmallWindowMode",e))},FlashAdapter.prototype.jsNotifyAdManager=function(e){this._flashcall("jsNotifyAdManager",e)},FlashAdapter.prototype.getQiyiPlayerLog=function(e){this._flashcall("getQiyiPlayerLog",undefined,e)},FlashAdapter.prototype.clearBanWord=function(){this._flashcall("clearBanWord")},FlashAdapter.prototype.addBanWord=function(e){e!==undefined&&""!==e&&this._flashcall("addBanWord",e)},FlashAdapter.prototype.removeBanWord=function(e){e&&this._flashcall("removeBanWord",e)},FlashAdapter.prototype.requestBarrageData=function(e){this._flashcall("requestBarrageData")},FlashAdapter.prototype.notyfyADInfo=function(e){this._flashcall("notyfyADInfo",e)},FlashAdapter.prototype.getIsInMainVideo=function(e){this._flashcall("getIsInMainVideo",undefined,e)},FlashAdapter.prototype.setCyclePlay=function(e){logger.info("js call func,params: type = setCyclePlay(鏄惁鑱旀挱), param = "+e),this._flashcall("setCyclePlay")},FlashAdapter.prototype.getQiyiPlayerInfo=function(e){this.getPlayInfo(e)},FlashAdapter.prototype.getQiyiVideoInfo=function(e){this._flashcall("getQiyiVideoInfo",undefined,e)},FlashAdapter.prototype.setLight=function(e){logger.info("js call func,params: type = setLight(寮€鍏崇伅)"),this._flashcall("setLight",e)},FlashAdapter.prototype.expand=function(e){logger.info("js call func,params: type = expand"),this._flashcall("expand",e)},FlashAdapter.prototype.setBarrageStatus=function(e){logger.info("js call func,params: type = setBarrageStatus(璁剧疆寮瑰箷寮€鍏�)"),this._flashcall("setBarrageStatus",e)},FlashAdapter.prototype.setSelfSendBarrageInfo=function(e){this._flashcall("setSelfSendBarrageInfo",e)},FlashAdapter.prototype.setBarrageSetting=function(e){this._flashcall("setBarrageSetting",e)},FlashAdapter.prototype.setActivityNoticeInfo=function(e){this._flashcall("setActivityNoticeInfo",e)},FlashAdapter.prototype.zoomQiyiVideo=function(e){this._flashcall("zoomQiyiVideo",e)},FlashAdapter.prototype.setTimeListener=function(e){this._flashcall("setTimeListener",e)},FlashAdapter.prototype.getHasBarrageConfigInfo=function(){this._flashcall("getHasBarrageConfigInfo")},FlashAdapter.prototype.getHasBarrageChannelConfigInfo=function(){this._flashcall("getHasBarrageChannelConfigInfo")},FlashAdapter.prototype.getHasBarrageGiftInfo=function(){this._flashcall("getHasBarrageGiftInfo")},FlashAdapter.prototype.getCommentConfigInfo=function(){this._flashcall("getCommentConfigInfo")},FlashAdapter.prototype.setContinuePlayState=function(e){logger.info("js call func,params: type = setContinuePlayState"),this._flashcall("setContinuePlayState",e)},FlashAdapter.prototype.getSwitchVideoType=function(e){this._flashcall("getSwitchVideoType",undefined,e)},FlashAdapter.prototype.forceToSaveCurVideoInfo=function(e){this._flashcall("forceToSaveCurVideoInfo",e)},FlashAdapter.prototype.getContinueData=function(e){this._flashcall("getContinueData",e)},FlashAdapter.prototype.setQiyiVisits=function(e){this._flashcall("setQiyiVisits",e)},FlashAdapter.prototype.initQiyiVideo=function(e){logger.info("js call func,params: type = initQiyiVideo(鍒濆鍖栨挱鏀惧懡浠�,鐢ㄤ簬璐﹀彿灏佸仠,浠ラ潪浼氬憳瑙傜湅)"),this._flashcall("initQiyiVideo",e)},FlashAdapter.prototype.getQiyiPlayerType=function(e){var t="flash";return e&&"function"==typeof e&&e(t),t},FlashAdapter.prototype.setPlayerFullScreen=function(e){e&&this._flashcall("setPlayerFullScreen",e)},FlashAdapter.prototype.setQiyiSubscribe=function(){},FlashAdapter.prototype.setSubscribeInfo=function(){},FlashAdapter.prototype.setSubscribeStateChange=function(){},FlashAdapter.prototype.setPlayerWebFullScreen=function(){},FlashAdapter.prototype.setRightBarStatus=function(){},FlashAdapter.prototype.setExpandScreenStatus=function(){},FlashAdapter}(Dispatcher),logger$1=new PlayerLogger("H5Adapter"),H5Adapter=function(a){function e(e,t){var r=a.call(this)||this;return(r._player=r)._playerId=e.parentId,r.disabled=!1,r.hasview=!1,r.type=CON_TYPE.PlayerType_Html5VOD,QiyiPlayerLoader.Package?r["package"]=new QiyiPlayerLoader.Package(e,r):(r["package"]=null,QiyiPlayerLoader.once("ready",function(){r["package"]=new QiyiPlayerLoader.Package(e,r),r.emit("createPack")})),r.__canRecordEvents=!0,r.eventsRecorder={},r.__evtRecorderTimer=setTimeout(function(){r.stopRecordEvents()},3e5),r.isSmallWindow=null,setTimeout(function(){logger$1.info("call js, fire event,params: type = playerLoadSuccess(鎾斁鍣ㄥ垵濮嬪寲瀹屾瘯)"),r.fire({type:CON_TYPE.QYPLAYER_LOAD_SUCCESS,data:{playerId:e.parentId}}),logger$1.info("call js, fire event,params: type = barrageAllowed(H5鏆傛椂涓嶆敮鎸佸脊骞�), enable = false"),r.fire({type:CON_TYPE.QYPLAYER_BARRAGE_ALLOWED,data:{enable:!1}})},0),r.destroy=function(){r.checkPack("destroy",null,function(){logger$1.log("js call func,params: type = player destroy(閿€姣佹挱鏀惧櫒)"),r["package"].destroy(),r.hasview=!1,r.disabled=!0,delete t.players[e.parentId],r.removeAllListeners(),r.fire({type:"destroy"})})},r}return __extends(e,a),e.prototype.fire=function(e){var t=e.type,r=e.data,a={type:t};r!==undefined&&(a.data=r),this.emit(t,a),this.__canRecordEvents&&(this.eventsRecorder[t]||(this.eventsRecorder[t]=[]),"playerStateChange"===t?this.eventsRecorder[t].push(a):this.eventsRecorder[t]=[a])},e.prototype.un=function(e,t){return this.off(e,t),this},e.prototype.loadSkin=function(e){QiyiPlayerLoader.loadSkin(e)},e.prototype.checkPack=function(e,t,r){var a=this;if(!this.disabled){var i=function(){if(!r)return a["package"][e](t);r()};if(this["package"])return i();this.once("createPack",i)}},e.prototype.addView=function(e){this.hasview||(this.hasview=!0,this.checkPack("addView",e))},e.prototype.load=function(e){this.checkPack("load",e)},e.prototype.stopRecordEvents=function(){var e=this;e.__canRecordEvents=!1,clearTimeout(e.__evtRecorderTimer),setTimeout(function(){e.eventsRecorder={}},1e4)},e.prototype.play=function(){this.checkPack("play")},e.prototype.resume=function(){this.checkPack("resume")},e.prototype.replay=function(){this.checkPack("replay")},e.prototype.pause=function(){this.checkPack("pause")},e.prototype.seek=function(e){this.checkPack("seek",e)},e.prototype.seekN=function(e){this.checkPack("seekN",e)},e.prototype.setPlayPingbackInfo=function(e){this.checkPack("setPlayPingbackInfo",e)},e.prototype.stop=function(){this.checkPack("stop")},e.prototype.isPaused=function(){return this.checkPack("isPaused")},e.prototype.getPlayInfo=function(e){this.checkPack("getPlayInfo",e)},e.prototype.getVideoInfo=function(e){this.checkPack("getVideoInfo",e)},e.prototype.getPlayerId=function(){return this._playerId},e.prototype.getMuted=function(){return this.checkPack("getMuted")},e.prototype.setMuted=function(e){this.checkPack("setMuted",e)},e.prototype.setQiyiUserLogin=function(e){this.checkPack("setQiyiUserLogin",e)},e.prototype.switchVideo=function(e){this.checkPack("switchVideo",e)},e.prototype.switchNextVideo=function(){this.checkPack("switchNextVideo")},e.prototype.switchPreVideo=function(){this.checkPack("switchPreVideo")},e.prototype.addVideoList=function(e){this.checkPack("addVideoList",e)},e.prototype.removeVideoList=function(e){this.checkPack("removeVideoList",e)},e.prototype.setSmallWindowMode=function(e){var t=this;this.isSmallWindow!==e&&(logger$1.info("js call func,params: type = setSmallWindowMode(璁剧疆灏忕獥,1涓哄皬绐�), data = "+e),this.isSmallWindow=e,this.checkPack("setSmallWindowMode",null,function(){t["package"].setSmallWindowMode&&t["package"].setSmallWindowMode(e)}))},e.prototype.jsNotifyAdManager=function(e){this.checkPack("jsNotifyAdManager",e)},e.prototype.getQiyiPlayerLog=function(e){try{e(PlayerLogger.getLog())}catch(t){}},e.prototype.clearBanWord=function(){this.checkPack("clearBanWord")},e.prototype.addBanWord=function(e){e!==undefined&&""!==e&&this.checkPack("addBanWord",e)},e.prototype.removeBanWord=function(e){this.checkPack("removeBanWord",e)},e.prototype.requestBarrageData=function(){},e.prototype.notyfyADInfo=function(e){this.checkPack("notyfyADInfo",e)},e.prototype.getQiyiPlayerInfo=function(e){this.checkPack("getQiyiPlayerInfo",e)},e.prototype.getQiyiPlayerType=function(e){var t="h5";return e&&"function"==typeof e&&e(t),t},e.prototype.setDelayPlayInfo=function(e){this.checkPack("setDelayPlayInfo",e)},e.prototype.clearDelayPlayInfo=function(e){this.checkPack("clearDelayPlayInfo",e)},e.prototype.setBarrageStatus=function(){},e.prototype.setSelfSendBarrageInfo=function(){},e.prototype.setBarrageSetting=function(){},e.prototype.setPlayerWebFullScreen=function(e){this.checkPack("setPlayerWebFullScreen",e)},e.prototype.setPlayerFullScreen=function(e){this.checkPack("setPlayerFullScreen",e)},e.prototype.getHasBarrageChannelConfigInfo=function(){},e.prototype.getHasBarrageConfigInfo=function(){},e.prototype.getHasBarrageGiftInfo=function(){},e.prototype.addPlayListView=function(e){this.checkPack("addPlayListView",e)},e.prototype.getSwitchVideoType=function(){return this.checkPack("getSwitchVideoType")},e.prototype.setRightBarStatus=function(e){this.checkPack("setRightBarStatus",e)},e.prototype.setExpandScreenStatus=function(e){this.checkPack("setExpandScreenStatus",e)},e.prototype.getIsInMainVideo=function(){},e.prototype.setCyclePlay=function(){},e.prototype.getQiyiVideoInfo=function(){},e.prototype.setQiyiSubscribe=function(){},e.prototype.setLight=function(){},e.prototype.expand=function(){},e.prototype.setActivityNoticeInfo=function(){},e.prototype.zoomQiyiVideo=function(){},e.prototype.setTimeListener=function(){},e.prototype.getCommentConfigInfo=function(){},e.prototype.setSubscribeInfo=function(){},e.prototype.setSubscribeStateChange=function(){},e.prototype.setContinuePlayState=function(){},e.prototype.forceToSaveCurVideoInfo=function(){},e.prototype.getContinueData=function(){},e.prototype.setQiyiVisits=function(){},e.prototype.initQiyiVideo=function(){},e}(Dispatcher),PlayerVersion="5.0.114",CONST_adParamAttrName="data-widget-adparam",CONST_flashParamAttrName="data-widget-flashplayerparam",CONST_flashVarsAttrName="data-flashplayerparam-flashvars",CONST_h5Vars="data-h5playerparam-h5vars",CONST_PlayerParams,CONST_PlayerParamsKV,spans,ParamVars={},setInitVars=function(){spans=document.querySelectorAll?document.querySelectorAll("span"):document.getElementsByTagName("span"),CONST_PlayerParams=window.QiyiPlayerParam||[],CONST_PlayerParamsKV={};for(var e=0;e<CONST_PlayerParams.length;e++)CONST_PlayerParams[e].name&&(CONST_PlayerParamsKV[CONST_PlayerParams[e].name]=CONST_PlayerParams[e].attribute||{})},getVer=function(){var e="";try{e=navigator.plugins["Shockwave Flash"].description}catch(t){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(err){}}return"string"!=typeof e&&(e=""),(e||"0 r0").match(/\d+/g)},checkFlashLzma=function(){var e=getVer();return 2<e.length&&(12<=parseInt(e[0],10)||11===parseInt(e[0],10)&&4<=parseInt(e[1],10))},outsite=function(){var e=[],t;try{t=!window.parent.location.href}catch(r){for(0===e.length&&(t=!0);e.length;)if(-1===document.referrer.indexOf(e.pop())){t=!0;break}}return t+""}(),delItemInPlayerParams=function(e){(CONST_PlayerParamsKV[e]||CONST_PlayerParamsKV.hasOwnProperty(e))&&(CONST_PlayerParamsKV[e]=null,delete CONST_PlayerParamsKV[e]);for(var t=CONST_PlayerParams.length;t--;)CONST_PlayerParams[t].name===e&&CONST_PlayerParams.splice(t,1)},safely=function(e){return e.replace(/([<>])/g,"")},delParamEmptyProps=function(e){for(var t in e)e[t]||!1===e[t]||delete e[t];return e},getElemWrapperParams=function(t){var e,r,a,i=function(e){return t.getAttribute(e)},n={expandState:i("data-player-expandstate"),albumId:i("data-player-albumid"),tvid:i("data-player-tvid"),vid:i("data-player-videoid"),autoplay:i("data-player-autoplay"),isMember:i("data-player-ismember"),cyclePlay:i("data-player-cycleplay"),exclusive:i("data-player-exclusive"),qiyiProduced:i("data-player-qiyiProduced"),share_sTime:i("data-player-startTime"),share_eTime:i("data-player-endTime"),showBarStyle:i("data-player-barStyle"),isLoop:i("data-player-isloop")};for(e=0;e<spans.length;e++)if((r=(a=spans[e]).getAttribute(CONST_adParamAttrName))===CONST_adParamAttrName){var o=a.getAttribute("data-adparam-cupid"),s=a.getAttribute("data-adparam-playerid");o&&(n.adurl=o),s&&(n.cid=s)}return delParamEmptyProps(n)},getElemAdParams=function(){var e,t,r,a={};for(e=0;e<spans.length;e++)if((t=(r=spans[e]).getAttribute(CONST_adParamAttrName))===CONST_adParamAttrName){var i=r.getAttribute("data-adparam-cupid"),n=r.getAttribute("data-adparam-playerid");i&&(a.adurl=i),n&&(a.cid=n)}return delParamEmptyProps(a)},getElemPublicParams=function(){var e,t,r,a,i,n,o=!1,s={};for(i=0;i<CONST_PlayerParams.length;i++)"public"===CONST_PlayerParams[i].name&&(mixin(s,delParamEmptyProps(CONST_PlayerParams[i].attribute||{}),!0),delItemInPlayerParams("public"),o=!0);if(!o)for(e=0;e<spans.length;e++)t=(n=spans[e]).getAttribute(CONST_flashParamAttrName),r=n.getAttribute(CONST_flashVarsAttrName),a=n.getAttribute(CONST_h5Vars),"public"===t&&(r&&mixin(s,delParamEmptyProps(urlkit.query2Json(r)),!0),a&&mixin(s,delParamEmptyProps(urlkit.query2Json(a)),!0));return delParamEmptyProps(s)},getJSConfigParams=function(e){var t={playerUrl:checkFlashLzma()&&onlineUrl.FLASH_PLAYER_ZURL?onlineUrl.FLASH_PLAYER_ZURL:onlineUrl.FLASH_PLAYER_URL,flashP2PCoreUrl:onlineUrl.FLASH_P2P_URL,barrageurl:onlineUrl.FLASH_BARRAGE_URL,preloader:onlineUrl.FLASH_PRELOADER_URL,preloaderTw:onlineUrl.FLASH_PRELOADER_URL_TW,qiyiProducedPreloader:onlineUrl.FLASH_PRELOADER_PRODUCE,qiyiProducedPreloaderTw:onlineUrl.FLASH_PRELOADER_PRODUCE_TW,exclusivePreloader:onlineUrl.FLASH_PRELOADER_EXCLUSIVE,exclusivePreloaderTw:onlineUrl.FLASH_PRELOADER_EXCLUSIVE_TW,vipPreloader:onlineUrl.FLASH_PRELOADER_VIP,vipPreloaderTw:onlineUrl.FLASH_PRELOADER_VIP_TW,iconPreloader:onlineUrl.FLASH_PRELOADER_ICON,iconPreloaderTw:onlineUrl.FLASH_PRELOADER_ICON_TW,iconProducedPreloader:onlineUrl.FLASH_PRELOADER_ICON_PRODUCE,iconProducedPreloaderTw:onlineUrl.FLASH_PRELOADER_ICON_PRODUCE_TW,iconExclusivePreloader:onlineUrl.FLASH_PRELOADER_ICON_EXCLUSIVE,iconExclusivePreloaderTw:onlineUrl.FLASH_PRELOADER_ICON_EXCLUSIVE_TW,tipdataurl:onlineUrl.FLASH_TIP_XML};return delParamEmptyProps(t)},getElemCustomParams=function(){var e,t,r,a,i,n={};for(e=0;e<spans.length;e++)t=(i=spans[e]).getAttribute(CONST_flashParamAttrName),r=i.getAttribute(CONST_flashVarsAttrName),a=i.getAttribute(CONST_h5Vars),t&&"public"!==t&&(CONST_PlayerParamsKV[t]?(mixin(n,delParamEmptyProps(CONST_PlayerParamsKV[t]),!0),delItemInPlayerParams(t)):(r&&mixin(n,delParamEmptyProps(urlkit.query2Json(r)),!0),a&&mixin(n,delParamEmptyProps(urlkit.query2Json(a)),!0)));if(0<CONST_PlayerParams.length)for(e=0;e<CONST_PlayerParams.length;e++)CONST_PlayerParams[e]&&CONST_PlayerParams[e].name&&mixin(n,delParamEmptyProps(CONST_PlayerParams[e].attribute||{}),!0);return delParamEmptyProps(n)},getElemWrapperFlashVarsParams=function(t){var e={},r,a=function(e){return t.getAttribute(e)}("data-player-flashvars");return a=a?urlkit.query2Json(a):{},mixin(e,delParamEmptyProps(a),!0),delParamEmptyProps(e)},getURLParams=function(){var e={},t=function(e){var t=urlkit.query2Json(e),r=t.flashVars;r=r?urlkit.query2Json(safely(decodeURIComponent(r))):{};var a=t.share_sTime||t.s,i=t.share_eTime||t.e,n=a&&a.match(/(\d*)-.*?=(\d*)/);n&&(a=n[1],i=n[2]);var o={autoplay:t.autoplay,vid:t.videoid||t.vid,tvid:t.tvid||t.tvId,albumId:t.albumid,cyclePlay:t.cycleplay,isMember:t.ismember,exclusive:t.exclusive,qiyiProduced:t.qiyiProduced,share_sTime:a,share_eTime:i,outsite:t.outsite,cid:t.cid,ptid:t.ptid,isCid:t.isCid,vfrm:t.vfrm,isMute:t.isMute,showBarStyle:t.barStyle,local:t.local,components:t.components,isLoop:t.isLoop,masflag:t.masflag,isExpandScreen:t.isExpandScreen,isSupportedShot:t.isSupportedShot,isSmallWindowMode:t.isSmallWindowMode,isSupportedHotKey:t.isSupportedHotKey};return mixin(r,delParamEmptyProps(o),!0),r},r=t(safely(window.location.search.replace(/([<>])/g,""))),a=t(safely(window.location.hash.slice(1).replace(/([<>])/g,"")));for(var i in mixin(e,delParamEmptyProps(r),!0),mixin(e,delParamEmptyProps(a),!0),e)e[i]||!1===e[i]||delete e[i];return delParamEmptyProps(e)},playerParams={mix:function(e,t){setInitVars();var r=window.__qlt,a="";r&&r.brs&&(a=r.brs||"");var i=e.tmplt||0,n={outsite:outsite,site:"iqiyiw",components:"feffffe6e",local:"cn_s",ost:"0",browserType:a,pageTmpltType:i};for(var o in mixin(n,getElemWrapperParams(t),!0),mixin(n,getElemAdParams(),!0),mixin(n,getElemPublicParams(),!0),mixin(n,getJSConfigParams(e),!0),mixin(n,getElemCustomParams(),!0),mixin(n,getElemWrapperFlashVarsParams(t),!0),mixin(n,e,!0),mixin(n,getURLParams(),!0),(platform$1.os.ios||platform$1.os.android)&&(n.autoplay=!1),n)"string"==typeof n[o]&&(n[o]=n[o].replace(/^http:/gi,""));return ParamVars=n},getVars:function(){return ParamVars}},_uuidTick=0,_newuser=!1,_veid="",_webEventId=window.webEventID||"",_removeWeid=function(){_webEventId=window.webEventID||""},_genUuid=function(){return MD5(window.navigator.userAgent+document.cookie+Math.random()+(new Date).getTime()*_uuidTick++)},saveCookie=function(e,t,r){cookie.set(e,t,{expires:r||31536e6,path:"/",domain:"iqiyi.com"})},_getJsuid=function(){var e="QC006",t=cookie.get(e);return t||(_newuser=!0,t=_genUuid(),saveCookie(e,t)),t},_getFluid=function(){return _checkJSUid()},_checkJSUid=function(){var e="QC005",t=cookie.get(e),r=storage$1.read(e),a=t||r;return a?r?t||saveCookie(e,a,283824e7):storage$1.write(e,a):(_newuser=!0,a=_genUuid(),saveCookie(e,a,283824e7),storage$1.write(e,a)),a},UUID={createUUID:function guid(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1).toUpperCase()}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},getQtsid:function(){var e,t=/^\d{10}\.\d{10}\.\d{10}\.\d+$/,r=function(){return parseInt(new Date/1e3,10).toString()};if(e=cookie.get("QC008"),cookie.get("QC010")&&e)return e;if(t.test(e))(e=e.split("."))[1]=e[2],e[2]=r(),e[3]=parseInt(e[3],10)+1;else{var a=r();e=[a,a,a,"1"]}return e.join("."),e},getJsuid:_getJsuid,getFluid:_getFluid,getWeid:function(){return _webEventId||(_webEventId=window.webEventID||MD5(_getJsuid()+"weid"+ +new Date)),_webEventId},getEid:function(){var e="";return _veid||(e=_getJsuid(),_veid=MD5(e+"veid"+1*new Date)),_veid},getIsNewUser:function(){return _newuser},init:function(){try{window.addEventListener("unload",_removeWeid),window.addEventListener("beforeunload",_removeWeid),window.addEventListener("pagehide",_removeWeid)}catch(e){}}},protocol=window.location.protocol,opendataURL=protocol+"//msg.qy.net/v5/bi/opendata",PF_CODE_PCW="1",PF_CODE_MOBILE="2",P_CODE_PCW="10",P_CODE_MOBILE="20",P1_CODE_PCW="101",P1_CODE_PHW="201",P1_CODE_TBW="202",pf=PF_CODE_PCW,p=P_CODE_PCW,p1=P1_CODE_PCW;platform$1.browser.iPad?(pf=PF_CODE_MOBILE,p=P_CODE_MOBILE,p1=P1_CODE_TBW):(platform$1.os.ios||platform$1.os.android)&&(pf=PF_CODE_MOBILE,p=P_CODE_MOBILE,p1=P1_CODE_PHW);var p_code=pf+"_"+p+"_"+p1,os_type="";platform$1.os.ios||platform$1.os.mac?os_type=2:platform$1.os.android&&(os_type=1);var _send=function(e){var t;mixin(t={p1:p_code,flashuid:UUID.getFluid()||"",v:e.playerVersion,pkg:"",sid:UUID.getWeid(),sttime:"",os_t:os_type,os_v:navigator.platform||"",ua_model:"",brand:"",lang:navigator.language||navigator.browserLanguage,resolution:window.screen.width+"*"+window.screen.height,network:"",cell_id:"",gps_lon:"",gps_lat:"",ipv4:"",tvid:e.tvid||"",aid:e.albumId||"",cid:e.cid||"",pid:UUID.getEid(),duration:e.duration||"",rn:+new Date,rfr:window.document.referrer,url:window.location.href,br:platform$1.browser.userAgent,ce:UUID.getWeid(),c2:""},e,!0),http.beacon(t,opendataURL)},ThreePingback=function(){function e(){}return e.prototype.sendStartPlayPingback=function(e){e.type=3,e.sttime=Math.round((new Date).getTime()/1e3),_send(e)},e.prototype.sendEndPlayPingback=function(e){e.type=4,e.sttime=Math.round((new Date).getTime()/1e3),_send(e)},e}(),ThreePingback$1=new ThreePingback,toIRS=!0,evts=[],initial=!1,init=function(){window.HyperVideoAnalyticsObjects=window.HyperVideoAnalyticsObjects||[],window.HyperVideoAnalyticsObjects.push("_hvt"),window._hvt=window._hvt||function(){return(window._hvt.q=window._hvt.q||[]).push(arguments)},seriesLoadScripts("//a.irs01.com/hvt.js?v=1.0",function(e){if(initial=!0,e)for(;0<evts.length;){var t=evts.shift();hasHvt()&&_hvt.apply(void 0,t)}})},hasHvt=function(){return"function"==typeof _hvt},toSend=function(e){toIRS&&(initial?hasHvt()&&_hvt.apply(void 0,e):evts.push(e))},IRS={createhvt:function(e,t){var r,a;toIRS=!(0===t||"0"===t),toSend(["create",e||"YOUR-UA",{api_url:"//iqiyi.irs01.com/hvt",iframe_url:"//a.irs01.com/storage.html",swf_url:"//a.irs01.com/storage.swf#",storage_id:"_iwt_id"}])},hvt_init:function(e){toSend(["init",{type:"manual"},{info:{v_id:e},upid:""}])},hvt_start:function(e){toSend(["send","start",{info:{v_id:e},spend:0,upid:"",progress:""}])},hvt_end:function(e,t){t=Math.ceil(t/1e3),toSend(["send","end",{info:{v_id:e},spend:t,upid:"",progress:""}])},hvt_desctory:function(){toSend(["destroy"])},openIRS:function(){initial||init()}},logger$2=new PlayerLogger("PlayerManager"),_playersReadyCalls={},PlayerManager=function(){function e(){this.players={},this.cssRendered=!1,this.subViewDef=!1,this.constantType=CON_TYPE,this.version=PlayerVersion}return e.prototype.createPlayer=function(e){var r=this;logger$2.log("createPlayer,params: "+PlayerLogger.stringify(e));var t=document.getElementById(e.parentId),a=(e=playerParams.mix(e,t)).tvid,i=e.vid,n=e.usevr;n=1==n||"true"==n,a=a||"",i=i||"fake123456";var o=this.players[e.parentId];if(!e.hasOwnProperty("parentId"))return null;if(null!=o)return null;if(""===a||""===i)return null;e.width&&e.height&&(t.style.width=parseInt(e.width,10)+"px",t.style.height=parseInt(e.height,10)+"px");var s=getPlayerType(e.playerType,n);e.plyct=+new Date,logger$2.log("<APP>鎾斁鍣ㄧ被鍨嬶細 鐐规挱 - "+s+", .v = "+PlayerVersion),logger$2.log("initialize info,params: location = "+window.location.href+", env: "+navigator.userAgent.toLowerCase()),logger$2.log("initialize parameter,params: info =="+PlayerLogger.stringify(e));var l="UA-iqiyi-10000901";switch(IRS.createhvt(l,e.irs),e.cssRendered=this.cssRendered,this.cssRendered||(this.cssRendered=!0),s){case CON_TYPE.PlayerType_Html5VOD:cookie.set("QP001",1,{expires:31536e6,path:"/",domain:"iqiyi.com"}),o=new H5Adapter(e,this);break;case CON_TYPE.PlayerType_FlashVOD:cookie.set("QP001",0,{expires:31536e6,path:"/",domain:"iqiyi.com"}),o=new FlashAdapter(e,isSupportHtml5(n),this)}(this.players[e.parentId]=o).on(CON_TYPE.QYPLAYER_LOAD_SUCCESS,function(e){o.__loadsuccess=!0;var t=e.data.playerId;r.flushPlayerReadyCalls(t)});var c="";return o.on(CON_TYPE.QYPLAYER_STATE_CHANGE,function(e){var t=e.data.state.toLocaleLowerCase(),r={};switch(r.tvid=e.data.tvid||"",r.albumId=e.data.albumId||"",r.cid=e.data.cid||"",r.playerVersion=e.data.playerVersion||"",t){case CON_TYPE.QYPLAYER_STATUS_END_PLAY:var a=e.data.tvid,i=void 0;e.data.spend?(i=e.data.spend,r.duration=e.data.spend):i=e.data.prePlayingDuration,IRS.hvt_end(a,i),ThreePingback$1.sendEndPlayPingback(r);break;case CON_TYPE.QYPLAYER_STATUS_START_PLAY:case CON_TYPE.QYPLAYER_STATUS_AD_START_PLAY:var n=e.data.tvid;n!==c&&(IRS.openIRS(),IRS.hvt_start(n),ThreePingback$1.sendStartPlayPingback(r),c=n);break;case CON_TYPE.QYPLAYER_STATUS_ERROR:IRS.openIRS()}}),o.on(CON_TYPE.QYPLAYER_STATUS_DATA_READY,function(e){var t=e.data.tvid;IRS.hvt_init(t)}),o.on(CON_TYPE.QYPLAYER_VID_CHANGE,function(e){var t,r,a={};e.data.preMovieInfo?(t=e.data.preMovieInfo.tvid,r=e.data.preMovieInfo.spend,a.albumId=e.data.preMovieInfo.albumId||"",a.cid=e.data.preMovieInfo.cid||""):(t=e.data.preTvid,r=e.data.prePlayingDuration),a.playerVersion=e.data.playerVersion||"",a.tvid=t||"",a.duration=r||"",IRS.hvt_end(t,r),ThreePingback$1.sendEndPlayPingback(a)}),o},e.prototype.getPlayerById=function(e){return this.players[e]},e.prototype.destroyPlayer=function(e){this.players[e].destroy()},e.prototype.addView=function(e){if(this.subViewDef=this.subViewDef||e,this.subViewDef)for(var t in this.players)this.players[t].addView(this.subViewDef)},e.prototype.ready=function(e,t){var r=this.getPlayerById(e),a=_playersReadyCalls[e]||[];(_playersReadyCalls[e]=a).push(t),r&&r.__loadsuccess&&this.flushPlayerReadyCalls(e)},e.prototype.flushPlayerReadyCalls=function(e){var t=_playersReadyCalls[e]||[];_playersReadyCalls[e]=[];for(var r=0;r<t.length;r++)!function(e,t){setTimeout(function(){e[t].call()},0)}(t,r)},e}(),logger$3=new PlayerLogger("QiyiLoader");Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length,r=+arguments[1]||0;if(0===t||isNaN(r)||t<=r)return-1;for(r<0&&(r=t+r)<0&&(r=0);r<t;++r)if(this[r]===e)return r;return-1});var PlayerLoader=function(i){function e(){var e=i.call(this)||this,t=0;window.__qlt&&"number"==typeof window.__qlt.statisticsStart&&(t=window.__qlt.statisticsStart),logger$3.log("player v2 sdk init,player-"+PlayerVersion+", page benchmark@"+t+"!");var r,a=(window.uniqy||{}).curVideoInfo||{};return e.Package=null,e.packLoader=new PackLoader(a.channelId),e.renderd=!1,e.manager=new PlayerManager,e}return __extends(e,i),e.prototype.ready=function(e){"function"==typeof e&&(this.isActived=!0,e(this.manager))},e.prototype.logger=function(){return PlayerLogger},e.prototype.setPackage=function(e){this.Package=e,this.emit("ready")},e.prototype.addView=function(e){this.manager.addView(e)},e.prototype.loadSkin=function(e){this.skinLoad?this.manager.addView():(this.skinLoad=!0,this.packLoader.loadSkin(e))},e}(Dispatcher),QiyiPlayerLoader=new PlayerLoader;return QiyiPlayerLoader});